{"version":3,"sources":["kendo.chat.js"],"names":["f","define","$","undefined","Component","Calendar","viewStyles","ChatView","kendo","window","Widget","ui","extend","proxy","DOT","SPACE","NS","MESSAGE_GROUP_TEMPLATE","template","SELF_MESSAGE_GROUP_TEMPLATE","TEXT_MESSAGE_TEMPLATE","TYPING_INDICATOR_TEMPLATE","SUGGESTED_ACTIONS_TEMPLATE","HERO_CARD_TEMPLATE","chat","Templates","Components","registerTemplate","templateName","getTemplate","registerComponent","componentName","component","getComponent","Class","init","options","view","this","element","destroy","fn","call","kendoCalendar","change","trigger","text","toString","value","type","wrapper","messageList","messageListContent","messageTime","messageGroup","message","only","first","middle","last","author","avatar","noAvatar","self","button","iconButton","buttonPrimary","scrollButtonIcon","scrollButtonIconLeft","scrollButtonIconRight","typingIndicator","typingIndicatorBubble","bubble","suggestedActions","suggestedAction","cardWrapper","cardDeckScrollWrap","cardDeck","cardList","card","cardRich","cardBody","cardImage","cardTitle","cardSubtitle","cardActions","cardActionsVertical","cardAction","selected","_list","_lastSender","typingParticipants","_attachEvents","_scrollable","events","messages","isTyping","areTyping","and","_scrollDraggable","empty","off","list","styles","addClass","attr","appendTo","on","_listClick","_messageClick","_suggestedActionClick","_cardActionClick","_scrollButtonClick","e","currentTarget","scrollToLeft","find","length","scrollContainer","siblings","lastCard","cardWidth","outerWidth","scrollLeft","renderMessage","sender","timestamp","Date","bubbleElement","_renderTemplate","_renderBubble","_removeTypingParticipant","id","renderSuggestedActions","_removeSuggestedActions","append","_scrollToBottom","renderAttachments","i","cardElement","_renderAttachmentWrapper","attachmentLayout","cardContainer","attachments","contentType","content","_removeTypingIndicator","renderComponent","componentType","layout","buttonLeft","buttonRight","_renderScrollButton","directionClass","remove","targetElement","target","hasClass","parents","_clearSelection","data","messageType","group","_getMessageGroup","_appendToGroup","templateOptions","_getMessageGroupTemplate","appendTarget","name","url","iconUrl","isOwnMessage","user","messageElement","children","childrenCount","indicator","filter","removeClass","_renderTypingIndicator","indicatorList","participants","_addTypingParticipant","_composeTypingParticipantsText","found","push","splice","typingAction","typingText","map","join","replace","trimRight","selectedClass","scrollTop","prop","jQuery","amd","a1","a2","a3","keys","SEND_ICON","TOGGLE_ICON","messageBoxStyles","input","buttonFlat","buttonIcon","buttonSend","buttonToggle","iconAdd","hidden","ChatMessageBox","_wrapper","_typing","placeholder","inputId","guid","html","toolbar","toggleable","buttons","_keydown","_input","_inputFocusout","_buttonClick","_toggleToolbar","currentValue","val","start","_triggerTyping","key","keyCode","ENTER","preventDefault","_sendMessage","args","ev","originalEvent","DATA_K_BUTTON_NAME","SCROLL_LEFT_NAME","SCROLL_RIGHT_NAME","VISIBLE","DEFAULT_ANIMATION","effects","duration","NO_ANIMATION","expand","show","collapse","hide","toolbarStyles","buttonList","scrollButton","scrollButtonLeft","scrollButtonRight","scrollButtonLeftIcon","scrollButtonRightIcon","ChatToolBar","toolbarOptions","buttonsDefined","_createButtonList","scrollable","buttonsWidth","width","_initScrolling","_setupAnimation","toggle","_onClick","that","_createButton","btnOptions","buttonElm","iconClass","prepend","closest","is","_scrolling","_scroll","class","_refreshScrollButtons","commandName","buttonWidth","maxScrollSize","scrollAmmount","currentScroll","currentScrollLeft","scrollValue","Math","min","max","isNaN","parseInt","animation","defaultExpandAnimation","defaultCollapseAnimation","reverse","_animationComplete","round","scrollWidth","clientWidth","skipAnimation","complete","kendoStop","kendoAnimate","chatStyles","canvas","viewWrapper","messageBoxWrapper","toolbarBoxWrapper","Chat","_events","_user","_view","_messageBox","_toolbar","notify","setOptions","_setEvents","messageBox","unbind","_resetToolbarButtons","getUser","height","uiElements","css","bind","postMessage","toggleToolbar","postArgs","from","renderUserTypingIndicator","clearUserTypingIndicator","removeTypingIndicator","plugin"],"mappings":"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","file":"kendo.chat.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('chat/view', [\n        'kendo.core',\n        'kendo.draganddrop'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var extend = $.extend;\n        var proxy = $.proxy;\n        var DOT = '.';\n        var SPACE = ' ';\n        var NS = '.kendoChat';\n        var MESSAGE_GROUP_TEMPLATE = kendo.template('<div #:text# class=\"#=styles.messageGroup# #= url ? \"\" : styles.noAvatar #\">' + '<p class=\"#=styles.author#\">#:text#</p>' + '# if (url) { #' + '<img src=\"#=url#\" alt=\"#:text#\" class=\"#=styles.avatar#\">' + '# } #' + '</div>');\n        var SELF_MESSAGE_GROUP_TEMPLATE = kendo.template('<div me class=\"#=styles.messageGroup# #=styles.self# #= url ? \"\" : styles.noAvatar #\">' + '# if (url) { #' + '<img src=\"#=url#\" alt=\"#:text#\" class=\"#=styles.avatar#\">' + '# } #' + '</div>');\n        var TEXT_MESSAGE_TEMPLATE = kendo.template('<div class=\"#=styles.message#\">' + '<time class=\"#=styles.messageTime#\">#= kendo.toString(kendo.parseDate(timestamp), \"HH:mm:ss\") #</time>' + '<div class=\"#=styles.bubble#\">#:text#</div>' + '</div>');\n        var TYPING_INDICATOR_TEMPLATE = kendo.template('<div class=\"#=styles.messageListContent# #=styles.typingIndicatorBubble#\">' + '<p class=\"#=styles.author#\">#:text#</p>' + '<div class=\"#=styles.message#\">' + '<div class=\"#=styles.bubble#\">' + '<div class=\"#=styles.typingIndicator#\">' + '<span></span><span></span><span></span>' + '</div>' + '</div>' + '</div>' + '</div>');\n        var SUGGESTED_ACTIONS_TEMPLATE = kendo.template('<div class=\"#=styles.suggestedActions#\">' + '# for (var i = 0; i < suggestedActions.length; i++) { #' + '<span class=\"#=styles.suggestedAction#\" data-value=\"#:suggestedActions[i].value#\">#:suggestedActions[i].title#</span>' + '# } #' + '</div>');\n        var HERO_CARD_TEMPLATE = kendo.template('<div class=\"#=styles.card# #=styles.cardRich#\">' + '# if (typeof images !== \"undefined\" && images.length > 0) { #' + '<img src=\"#:images[0].url#\" alt=\"#:images[0].alt#\" class=\"#=styles.cardImage#\" />' + '# } #' + '<div class=\"#=styles.cardBody#\">' + '# if (typeof title !== \"undefined\") { #' + '<h5 class=\"#=styles.cardTitle#\">#:title#</h5>' + '# } #' + '# if (typeof subtitle !== \"undefined\") { #' + '<h6 class=\"#=styles.cardSubtitle#\">#:subtitle#</h6>' + '# } #' + '# if (typeof text !== \"undefined\") { #' + '<p>#:text#</p>' + '# } #' + '</div>' + '# if (typeof buttons !== \"undefined\" && buttons.length > 0) { #' + '<div class=\"#=styles.cardActions# #=styles.cardActionsVertical#\">' + '# for (var i = 0; i < buttons.length; i++) { #' + '<span class=\"#=styles.cardAction#\"><span class=\"#=styles.button# #=styles.buttonPrimary#\" data-value=\"#:buttons[i].value#\">#:buttons[i].title#</span></span>' + '# } #' + '</div>' + '# } #' + '</div>');\n        kendo.chat = {\n            Templates: {},\n            Components: {}\n        };\n        kendo.chat.registerTemplate = function (templateName, template) {\n            kendo.chat.Templates[templateName] = kendo.template(template);\n        };\n        kendo.chat.getTemplate = function (templateName) {\n            return kendo.chat.Templates[templateName] || TEXT_MESSAGE_TEMPLATE;\n        };\n        kendo.chat.registerTemplate('text', TEXT_MESSAGE_TEMPLATE);\n        kendo.chat.registerTemplate('message', TEXT_MESSAGE_TEMPLATE);\n        kendo.chat.registerTemplate('typing', TYPING_INDICATOR_TEMPLATE);\n        kendo.chat.registerTemplate('suggestedAction', SUGGESTED_ACTIONS_TEMPLATE);\n        kendo.chat.registerTemplate('heroCard', HERO_CARD_TEMPLATE);\n        kendo.chat.registerTemplate('application/vnd.microsoft.card.hero', HERO_CARD_TEMPLATE);\n        kendo.chat.registerComponent = function (componentName, component) {\n            kendo.chat.Components[componentName] = component;\n        };\n        kendo.chat.getComponent = function (componentName) {\n            return kendo.chat.Components[componentName] || null;\n        };\n        var Component = kendo.chat.Component = kendo.Class.extend({\n            init: function (options, view) {\n                this.element = $('<div></div>');\n                this.options = options;\n                this.view = view;\n            },\n            destroy: function () {\n                kendo.destroy(this.element);\n            }\n        });\n        var Calendar = Component.extend({\n            init: function (options, view) {\n                Component.fn.init.call(this, options, view);\n                this.element.kendoCalendar({\n                    change: function () {\n                        view.trigger('suggestedAction', {\n                            text: kendo.toString(this.value(), 'd'),\n                            type: 'message'\n                        });\n                    }\n                });\n            },\n            destroy: function () {\n            }\n        });\n        kendo.chat.registerComponent('calendar', Calendar);\n        var viewStyles = {\n            wrapper: 'k-widget k-chat',\n            messageList: 'k-avatars',\n            messageListContent: 'k-message-list-content',\n            messageTime: 'k-message-time',\n            messageGroup: 'k-message-group',\n            message: 'k-message',\n            only: 'k-only',\n            first: 'k-first',\n            middle: 'k-middle',\n            last: 'k-last',\n            author: 'k-author',\n            avatar: 'k-avatar',\n            noAvatar: 'k-no-avatar',\n            self: 'k-alt',\n            button: 'k-button',\n            iconButton: 'k-button-icon',\n            buttonPrimary: 'k-flat k-primary',\n            scrollButtonIcon: 'k-icon',\n            scrollButtonIconLeft: 'k-i-arrow-chevron-left',\n            scrollButtonIconRight: 'k-i-arrow-chevron-right',\n            typingIndicator: 'k-typing-indicator',\n            typingIndicatorBubble: 'k-typing-indicator-bubble',\n            bubble: 'k-bubble',\n            suggestedActions: 'k-quick-replies',\n            suggestedAction: 'k-quick-reply',\n            cardWrapper: 'k-card-container',\n            cardDeckScrollWrap: 'k-card-deck-scrollwrap',\n            cardDeck: 'k-card-deck',\n            cardList: 'k-card-list',\n            card: 'k-card',\n            cardRich: 'k-card-type-rich',\n            cardBody: 'k-card-body',\n            cardImage: 'k-card-image',\n            cardTitle: 'k-card-title',\n            cardSubtitle: 'k-card-subtitle',\n            cardActions: 'k-card-actions',\n            cardActionsVertical: 'k-card-actions-vertical',\n            cardAction: 'k-card-action',\n            selected: 'k-state-selected'\n        };\n        var ChatView = kendo.chat.ChatView = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this._list();\n                this._lastSender = null;\n                this.typingParticipants = [];\n                this._attachEvents();\n                this._scrollable();\n            },\n            events: [],\n            options: {\n                messages: {\n                    isTyping: ' is typing.',\n                    areTyping: ' are typing.',\n                    and: ' and '\n                }\n            },\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                if (this._scrollDraggable) {\n                    this._scrollDraggable.destroy();\n                }\n                this.element.empty();\n                this.element.off(NS);\n                this.list = null;\n                this._lastSender = null;\n            },\n            _list: function () {\n                var viewStyles = ChatView.styles;\n                this.element.addClass(viewStyles.messageList).attr('aria-live', 'polite');\n                this.list = $('<div>').addClass(viewStyles.messageListContent).appendTo(this.element);\n            },\n            _attachEvents: function () {\n                var styles = ChatView.styles;\n                this.element.on('click' + NS, proxy(this._listClick, this)).on('click' + NS, DOT + styles.message, proxy(this._messageClick, this)).on('click' + NS, DOT + styles.suggestedAction, proxy(this._suggestedActionClick, this)).on('click' + NS, DOT + styles.cardAction + SPACE + DOT + styles.button, proxy(this._cardActionClick, this));\n            },\n            _scrollable: function () {\n                var viewStyles = ChatView.styles;\n                this.element.on('click' + NS, DOT + viewStyles.cardDeckScrollWrap + SPACE + DOT + viewStyles.button, proxy(this._scrollButtonClick, this));\n            },\n            _scrollButtonClick: function (e) {\n                var viewStyles = ChatView.styles;\n                var button = $(e.currentTarget);\n                var scrollToLeft = button.find(DOT + viewStyles.scrollButtonIconLeft).length !== 0;\n                var scrollContainer = button.siblings(DOT + viewStyles.cardDeck);\n                var lastCard = scrollContainer.find(DOT + viewStyles.card).last();\n                var cardWidth = lastCard.outerWidth(true);\n                if (scrollToLeft) {\n                    scrollContainer.scrollLeft(scrollContainer.scrollLeft() - cardWidth);\n                } else {\n                    scrollContainer.scrollLeft(scrollContainer.scrollLeft() + cardWidth);\n                }\n            },\n            getTemplate: function (templateName) {\n                return kendo.chat.getTemplate(templateName);\n            },\n            getComponent: function (type) {\n                return kendo.chat.getComponent(type);\n            },\n            renderMessage: function (message, sender) {\n                if (!message.timestamp) {\n                    message.timestamp = new Date();\n                }\n                if (!message.text) {\n                    message.text = '';\n                }\n                var bubbleElement = this._renderTemplate(message.type, message);\n                this._renderBubble(message.type, bubbleElement, sender);\n                if (message.type == 'typing') {\n                    if (this.typingParticipants.length > 0) {\n                        this._removeTypingParticipant(sender);\n                    }\n                } else {\n                    this._lastSender = sender.id;\n                }\n            },\n            renderSuggestedActions: function (suggestedActions) {\n                this._removeSuggestedActions();\n                var element = this._renderTemplate('suggestedAction', { suggestedActions: suggestedActions });\n                this.list.append(element);\n                this._scrollToBottom();\n            },\n            renderAttachments: function (options) {\n                var wrapper = this._renderAttachmentWrapper(options.attachmentLayout);\n                var cardContainer = options.attachmentLayout === 'carousel' ? wrapper.find(DOT + ChatView.styles.cardDeck) : wrapper;\n                var attachments = options.attachments;\n                if (!attachments.length) {\n                    return;\n                }\n                for (var i = 0; i < attachments.length; i++) {\n                    var cardElement = this._renderTemplate(attachments[i].contentType, attachments[i].content);\n                    cardContainer.append(cardElement);\n                }\n                this._removeSuggestedActions();\n                this._removeTypingIndicator();\n                this.list.append(wrapper);\n                this._lastSender = null;\n            },\n            renderComponent: function (type) {\n                var componentType = this.getComponent(type);\n                var component = new componentType({}, this);\n                this.list.append(component.element);\n                this._scrollToBottom();\n            },\n            _renderAttachmentWrapper: function (layout) {\n                var viewStyles = ChatView.styles;\n                var wrapper = $('<div>');\n                if (layout === 'carousel') {\n                    wrapper.addClass(viewStyles.cardDeckScrollWrap);\n                    var buttonLeft = this._renderScrollButton(viewStyles.scrollButtonIconLeft);\n                    wrapper.append(buttonLeft);\n                    wrapper.append($('<div>').addClass(viewStyles.cardDeck));\n                    var buttonRight = this._renderScrollButton(viewStyles.scrollButtonIconRight);\n                    wrapper.append(buttonRight);\n                } else {\n                    wrapper.addClass(viewStyles.cardList);\n                }\n                return wrapper;\n            },\n            _renderScrollButton: function (directionClass) {\n                var viewStyles = ChatView.styles;\n                return $('<button>').addClass(viewStyles.button).addClass(viewStyles.iconButton).append($('<span>').addClass(viewStyles.scrollButtonIcon).addClass(directionClass));\n            },\n            _removeSuggestedActions: function () {\n                this.list.find(DOT + ChatView.styles.suggestedActions).remove();\n            },\n            _listClick: function (e) {\n                var styles = ChatView.styles;\n                var targetElement = $(e.target);\n                if (targetElement.hasClass(styles.message) || targetElement.parents(DOT + styles.message).length) {\n                    return;\n                }\n                this._clearSelection();\n            },\n            _messageClick: function (e) {\n                this._clearSelection();\n                $(e.currentTarget).addClass(ChatView.styles.selected);\n            },\n            _suggestedActionClick: function (e) {\n                var text = $(e.target).data('value') || '';\n                this.trigger('actionClick', { text: text });\n                this._removeSuggestedActions();\n            },\n            _cardActionClick: function (e) {\n                var text = $(e.target).data('value') || '';\n                this.trigger('actionClick', { text: text });\n            },\n            _renderBubble: function (messageType, bubbleElement, sender) {\n                this._removeSuggestedActions();\n                this._removeTypingIndicator();\n                var group = this._getMessageGroup(sender, messageType);\n                this._appendToGroup(group, bubbleElement, messageType);\n                this._scrollToBottom();\n            },\n            _renderTemplate: function (type, options) {\n                var componentType = this.getComponent(type);\n                var element;\n                if (componentType) {\n                    var component = new componentType(options, this);\n                    element = component.element;\n                } else {\n                    var template = this.getTemplate(type);\n                    var templateOptions = extend(true, {}, options, { styles: ChatView.styles });\n                    element = $(template(templateOptions));\n                }\n                return element;\n            },\n            _getMessageGroup: function (sender, messageType) {\n                var viewStyles = ChatView.styles;\n                var template = this._getMessageGroupTemplate(sender, messageType);\n                var appendTarget = messageType == 'typing' ? this.element : this.list;\n                var group;\n                if (sender.id === this._lastSender && this._lastSender !== null && messageType !== 'typing') {\n                    group = this.list.find(DOT + viewStyles.messageGroup).last();\n                    if (group.length) {\n                        return group;\n                    }\n                }\n                return $(template({\n                    text: sender.name,\n                    url: sender.iconUrl,\n                    styles: viewStyles\n                })).appendTo(appendTarget);\n            },\n            _getMessageGroupTemplate: function (sender, messageType) {\n                var isOwnMessage = sender.id === this.options.user.id;\n                var template = isOwnMessage ? SELF_MESSAGE_GROUP_TEMPLATE : MESSAGE_GROUP_TEMPLATE;\n                if (messageType == 'typing') {\n                    template = TYPING_INDICATOR_TEMPLATE;\n                }\n                return template;\n            },\n            _appendToGroup: function (group, messageElement, messageType) {\n                var viewStyles = ChatView.styles;\n                var children = group.find(DOT + viewStyles.message);\n                var childrenCount = children.length;\n                var indicator = this.element.find(DOT + viewStyles.typingIndicator);\n                if (indicator.length && messageType == 'typing') {\n                    return;\n                }\n                messageElement.addClass(childrenCount === 0 ? viewStyles.only : viewStyles.last);\n                children.filter(DOT + viewStyles.only).removeClass(viewStyles.only).addClass(viewStyles.first);\n                children.filter(DOT + viewStyles.last).removeClass(viewStyles.last).addClass(viewStyles.middle);\n                group.append(messageElement);\n            },\n            _renderTypingIndicator: function (sender) {\n                var indicator = this.element.find(DOT + viewStyles.typingIndicatorBubble), indicatorList, participants;\n                this._addTypingParticipant(sender);\n                if (indicator.length) {\n                    participants = this._composeTypingParticipantsText(this.typingParticipants);\n                    indicatorList = indicator.find(DOT + viewStyles.author).first();\n                    indicatorList.text(participants);\n                } else {\n                    $(TYPING_INDICATOR_TEMPLATE({\n                        text: sender.name + this.options.messages.isTyping,\n                        styles: viewStyles\n                    })).appendTo(this.element);\n                }\n                this._scrollToBottom();\n            },\n            _addTypingParticipant: function (sender) {\n                var found = false;\n                for (var i = 0; i < this.typingParticipants.length; i += 1) {\n                    if (this.typingParticipants[i].id == sender.id) {\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) {\n                    this.typingParticipants.push(sender);\n                }\n            },\n            _removeTypingParticipant: function (sender) {\n                var indicator = this.element.find(DOT + viewStyles.typingIndicatorBubble), indicatorList, participants;\n                if (indicator.length) {\n                    for (var i = 0; i < this.typingParticipants.length; i += 1) {\n                        if (this.typingParticipants[i].id == sender.id) {\n                            this.typingParticipants.splice(i, 1);\n                        }\n                    }\n                    participants = this._composeTypingParticipantsText(this.typingParticipants);\n                    if (participants === '') {\n                        indicator.remove();\n                    } else {\n                        indicatorList = indicator.find(DOT + viewStyles.author).first();\n                        indicatorList.text(participants);\n                    }\n                }\n            },\n            _composeTypingParticipantsText: function (participants) {\n                var messages = this.options.messages, typingAction = participants.length == 1 ? messages.isTyping : messages.areTyping, typingText = '';\n                if (participants.length === 0) {\n                    return typingText;\n                }\n                typingText = this.typingParticipants.map(function (author) {\n                    return author.name;\n                }).join(', ').replace(/,(?!.*,)/gim, messages.and.trimRight()) + typingAction;\n                return typingText;\n            },\n            _removeTypingIndicator: function () {\n                var indicator = this.element.find(DOT + viewStyles.typingIndicatorBubble);\n                if (indicator.length) {\n                    this.typingParticipants = [];\n                    indicator.remove();\n                }\n            },\n            _clearSelection: function () {\n                var selectedClass = ChatView.styles.selected;\n                this.element.find(DOT + selectedClass).removeClass(selectedClass);\n            },\n            _scrollToBottom: function () {\n                this.element.scrollTop(this.element.prop('scrollHeight'));\n            }\n        });\n        extend(true, ChatView, { styles: viewStyles });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('chat/messageBox', ['kendo.core'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var extend = $.extend;\n        var proxy = $.proxy;\n        var DOT = '.';\n        var NS = '.kendoChat';\n        var keys = kendo.keys;\n        var SEND_ICON = '<svg version=\"1.1\" ixmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 16 16\" xml:space=\"preserve\"><path d=\"M0,14.3c-0.1,0.6,0.3,0.8,0.8,0.6l14.8-6.5c0.5-0.2,0.5-0.6,0-0.8L0.8,1.1C0.3,0.9-0.1,1.1,0,1.7l0.7,4.2C0.8,6.5,1.4,7,1.9,7.1l8.8,0.8c0.6,0.1,0.6,0.1,0,0.2L1.9,8.9C1.4,9,0.8,9.5,0.7,10.1L0,14.3z\"/></svg>';\n        var TOGGLE_ICON = '<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512;\" xml:space=\"preserve\"><g>   <path d=\"M128,240c0-26.4-21.6-48-48-48s-48,21.6-48,48s21.6,48,48,48S128,266.4,128,240z\"/>   <path d=\"M192,240c0,26.4,21.6,48,48,48c26.4,0,48-21.6,48-48s-21.6-48-48-48C213.6,192,192,213.6,192,240z\"/>   <path d=\"M352,240c0,26.4,21.6,48,48,48c26.4,0,48-21.6,48-48s-21.6-48-48-48C373.6,192,352,213.6,352,240z\"/></g></svg>';\n        var messageBoxStyles = {\n            input: 'k-input',\n            button: 'k-button',\n            buttonFlat: 'k-flat',\n            buttonIcon: 'k-button-icon',\n            buttonSend: 'k-button-send',\n            buttonToggle: 'k-button-toggle',\n            iconAdd: 'k-icon k-i-add',\n            hidden: 'k-hidden'\n        };\n        var ChatMessageBox = kendo.chat.ChatMessageBox = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this._wrapper();\n                this._attachEvents();\n                this._typing = false;\n            },\n            events: [],\n            options: { messages: { placeholder: 'Type a message...' } },\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                if (this.input) {\n                    this.input.off(NS);\n                    this.input.remove();\n                    this.input = null;\n                }\n                this.element.off(NS);\n                this.element.empty();\n            },\n            _wrapper: function () {\n                var styles = ChatMessageBox.styles;\n                var options = this.options;\n                var messages = options.messages;\n                var inputId = 'inputId_' + kendo.guid();\n                $('<label>').addClass(styles.hidden).html(messages.placeholder).attr('for', inputId).appendTo(this.element);\n                this.input = $('<input type=\\'text\\'>').addClass(styles.input).attr('id', inputId).attr('placeholder', messages.placeholder).appendTo(this.element);\n                if (options.toolbar && options.toolbar.toggleable && options.toolbar.buttons) {\n                    $('<button>').addClass(styles.button).addClass(styles.buttonFlat).addClass(styles.buttonIcon).addClass(styles.buttonToggle).attr('type', 'button').append($(TOGGLE_ICON)).appendTo(this.element);\n                }\n                $('<button>').addClass(styles.button).addClass(styles.buttonFlat).addClass(styles.buttonIcon).addClass(styles.buttonSend).append($(SEND_ICON)).appendTo(this.element);\n            },\n            _attachEvents: function () {\n                var styles = ChatMessageBox.styles;\n                this.input.on('keydown' + NS, proxy(this._keydown, this)).on('input' + NS, proxy(this._input, this)).on('focusout' + NS, proxy(this._inputFocusout, this));\n                this.element.on('click' + NS, DOT + styles.buttonSend, proxy(this._buttonClick, this));\n                this.element.on('click' + NS, DOT + styles.buttonToggle, proxy(this._toggleToolbar, this));\n            },\n            _input: function () {\n                var currentValue = this.input.val();\n                var start = currentValue.length > 0;\n                this._triggerTyping(start);\n            },\n            _keydown: function (e) {\n                var key = e.keyCode;\n                switch (key) {\n                case keys.ENTER:\n                    e.preventDefault();\n                    this._sendMessage();\n                    break;\n                }\n            },\n            _buttonClick: function (e) {\n                e.preventDefault();\n                this._sendMessage();\n            },\n            _sendMessage: function () {\n                var value = this.input.val();\n                if (!value.length) {\n                    return;\n                }\n                this._triggerTyping(false);\n                var args = { text: value };\n                this.trigger('sendMessage', args);\n                this.input.val('');\n            },\n            _inputFocusout: function () {\n                this._triggerTyping(false);\n            },\n            _triggerTyping: function (start) {\n                if (start) {\n                    if (!this._typing) {\n                        this.trigger('typingStart', {});\n                        this._typing = true;\n                    }\n                } else {\n                    if (this._typing) {\n                        this.trigger('typingEnd', {});\n                        this._typing = false;\n                    }\n                }\n            },\n            _toggleToolbar: function (ev) {\n                this.trigger('toggleToolbar', { originalEvent: ev });\n            }\n        });\n        extend(true, ChatMessageBox, { styles: messageBoxStyles });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('chat/toolbar', ['kendo.core'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var extend = $.extend;\n        var proxy = $.proxy;\n        var DOT = '.';\n        var NS = '.kendoChat';\n        var DATA_K_BUTTON_NAME = 'kButtonName';\n        var SCROLL_LEFT_NAME = 'chatToolbarScrollLeft';\n        var SCROLL_RIGHT_NAME = 'chatToolbarScrollRight';\n        var VISIBLE = ':visible';\n        var DEFAULT_ANIMATION = {\n            effects: 'expand:vertical',\n            duration: 200\n        };\n        var NO_ANIMATION = {\n            expand: { show: true },\n            collapse: { hide: true }\n        };\n        var toolbarStyles = {\n            button: 'k-button',\n            buttonFlat: 'k-flat',\n            buttonList: 'k-button-list',\n            scrollButton: 'k-scroll-button',\n            scrollButtonLeft: 'k-scroll-button-left',\n            scrollButtonRight: 'k-scroll-button-right',\n            scrollButtonLeftIcon: 'k-icon k-i-arrow-chevron-left',\n            scrollButtonRightIcon: 'k-icon k-i-arrow-chevron-right',\n            buttonIcon: 'k-button-icon'\n        };\n        var ChatToolBar = kendo.chat.ChatToolBar = Widget.extend({\n            init: function (element, options) {\n                options = extend({}, options, { name: 'ChatToolbar' });\n                var toolbarOptions = options.toolbar;\n                var buttonsDefined = toolbarOptions.buttons && toolbarOptions.buttons.length;\n                Widget.fn.init.call(this, element, options);\n                if (buttonsDefined) {\n                    this._createButtonList();\n                }\n                if (buttonsDefined && toolbarOptions.scrollable && this.buttonsWidth() > this.element.width()) {\n                    this._initScrolling();\n                }\n                this._setupAnimation();\n                if (toolbarOptions.toggleable) {\n                    this.toggle(true);\n                }\n                this.element.on('click' + NS, proxy(this._onClick, this));\n            },\n            events: ['click'],\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                this.element.off(NS);\n                this.element.empty();\n            },\n            _createButtonList: function () {\n                var that = this;\n                var styles = ChatToolBar.styles;\n                var buttons = that.options.toolbar.buttons;\n                var buttonList = $('<div class=\\'' + styles.buttonList + '\\'></div>');\n                for (var i = 0; i < buttons.length; i++) {\n                    var button = that._createButton(buttons[i]);\n                    buttonList.append(button);\n                }\n                buttonList.appendTo(this.element);\n                this.buttonList = buttonList;\n            },\n            _createButton: function (btnOptions) {\n                var styles = ChatToolBar.styles;\n                var buttonElm = $('<button>');\n                if (typeof btnOptions === 'string') {\n                    btnOptions = { name: btnOptions };\n                }\n                buttonElm.attr(btnOptions.attr || {}).attr('title', btnOptions.text).attr('type', 'button').addClass(btnOptions.name).data(DATA_K_BUTTON_NAME, btnOptions.name).addClass(styles.button);\n                if (btnOptions.iconClass) {\n                    buttonElm.addClass(styles.buttonIcon);\n                    buttonElm.prepend('<span class=\\'' + btnOptions.iconClass + '\\'></span>');\n                }\n                return buttonElm;\n            },\n            _onClick: function (ev) {\n                var styles = ChatToolBar.styles;\n                var target = $(ev.target).closest(DOT + styles.button);\n                if (target.is(DOT + styles.scrollButton) && !this._scrolling) {\n                    this._scroll(target.data(DATA_K_BUTTON_NAME));\n                }\n                if (target.data(DATA_K_BUTTON_NAME)) {\n                    this.trigger('click', {\n                        button: target[0],\n                        name: target.data(DATA_K_BUTTON_NAME),\n                        originalEvent: ev\n                    });\n                }\n            },\n            _initScrolling: function () {\n                var styles = ChatToolBar.styles;\n                this.scrollButtonLeft = this._createButton({\n                    name: SCROLL_LEFT_NAME,\n                    iconClass: styles.scrollButtonLeftIcon,\n                    attr: { 'class': styles.scrollButton + ' ' + styles.scrollButtonLeft }\n                });\n                this.scrollButtonRight = this._createButton({\n                    name: SCROLL_RIGHT_NAME,\n                    iconClass: styles.scrollButtonRightIcon,\n                    attr: { 'class': styles.scrollButton + ' ' + styles.scrollButtonRight }\n                });\n                this.element.prepend(this.scrollButtonLeft);\n                this.element.append(this.scrollButtonRight);\n                this._refreshScrollButtons();\n                this.element.on('keydown' + NS, proxy(this._refreshScrollButtons, this));\n            },\n            _scroll: function (commandName) {\n                var that = this;\n                var buttonWidth = that.buttonWidth();\n                var maxScrollSize = this.maxScrollSize();\n                var scrollAmmount = commandName === SCROLL_LEFT_NAME ? buttonWidth * -1 : buttonWidth;\n                var currentScroll = this.currentScrollLeft();\n                var scrollValue = currentScroll + scrollAmmount;\n                scrollValue = Math.min(Math.max(scrollValue, 0), maxScrollSize);\n                if (commandName !== SCROLL_LEFT_NAME && commandName !== SCROLL_RIGHT_NAME) {\n                    return;\n                }\n                that.buttonList.scrollLeft(scrollValue);\n                that._refreshScrollButtons(scrollValue);\n            },\n            _refreshScrollButtons: function (value) {\n                var maxScrollSize = this.maxScrollSize();\n                var currentScrollLeft = value === undefined || isNaN(parseInt(value, 10)) ? this.currentScrollLeft() : value;\n                if (!this.scrollButtonLeft && !this.scrollButtonRight) {\n                    return;\n                }\n                this.scrollButtonLeft.toggle(currentScrollLeft !== 0);\n                this.scrollButtonRight.toggle(currentScrollLeft !== maxScrollSize);\n            },\n            _setupAnimation: function () {\n                var animation = this.options.toolbar.animation;\n                var defaultExpandAnimation = extend({}, DEFAULT_ANIMATION);\n                var defaultCollapseAnimation = extend({\n                    reverse: true,\n                    hide: true\n                }, DEFAULT_ANIMATION);\n                if (animation === false) {\n                    animation = extend(true, {}, NO_ANIMATION);\n                } else {\n                    animation = extend(true, {\n                        expand: defaultExpandAnimation,\n                        collapse: defaultCollapseAnimation\n                    }, animation);\n                }\n                this.options.toolbar.animation = animation;\n            },\n            _animationComplete: function () {\n                this._refreshScrollButtons();\n            },\n            currentScrollLeft: function () {\n                return Math.round(this.buttonList.scrollLeft());\n            },\n            maxScrollSize: function () {\n                return Math.round(this.buttonList[0].scrollWidth - this.buttonList[0].clientWidth);\n            },\n            buttons: function () {\n                var styles = ChatToolBar.styles;\n                return this.buttonList ? this.buttonList.children(DOT + styles.button) : null;\n            },\n            buttonWidth: function () {\n                return Math.round(this.buttons().last().outerWidth(true));\n            },\n            buttonsWidth: function () {\n                var width = 0;\n                if (this.buttons()) {\n                    width = this.buttonWidth() * this.buttons().length;\n                }\n                return width;\n            },\n            toggle: function (skipAnimation) {\n                var animation = this.options.toolbar.animation;\n                if (skipAnimation) {\n                    animation = extend(true, {}, NO_ANIMATION);\n                }\n                animation.expand.complete = proxy(this._animationComplete, this);\n                animation.collapse.complete = proxy(this._animationComplete, this);\n                if (this.element.is(VISIBLE)) {\n                    this.element.kendoStop().kendoAnimate(animation.collapse);\n                } else {\n                    this.element.kendoStop().kendoAnimate(animation.expand);\n                }\n            }\n        });\n        extend(true, ChatToolBar, { styles: toolbarStyles });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.chat', [\n        'chat/view',\n        'chat/messageBox',\n        'chat/toolbar'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'chat',\n        name: 'Chat',\n        category: 'web',\n        description: 'The Chat component.',\n        depends: [\n            'core',\n            'draganddrop'\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var extend = $.extend;\n        var DOT = '.';\n        var chatStyles = {\n            wrapper: 'k-widget k-chat',\n            canvas: 'k-chat-canvas',\n            viewWrapper: 'k-message-list',\n            messageBoxWrapper: 'k-message-box',\n            toolbarBoxWrapper: 'k-toolbar-box'\n        };\n        var Chat = Widget.extend({\n            init: function (element, options, events) {\n                Widget.fn.init.call(this, element, options);\n                if (events) {\n                    this._events = events;\n                }\n                this._user();\n                this._wrapper();\n                this._view();\n                this._messageBox();\n                if (options && options.toolbar && options.toolbar.buttons) {\n                    this._toolbar();\n                }\n                kendo.notify(this);\n            },\n            events: [\n                'typingStart',\n                'typingEnd',\n                'post',\n                'sendMessage',\n                'actionClick',\n                'toolClick'\n            ],\n            options: {\n                user: {\n                    name: 'User',\n                    iconUrl: ''\n                },\n                name: 'Chat',\n                messages: { placeholder: 'Type a message...' },\n                toolbar: false\n            },\n            setOptions: function (options) {\n                this._setEvents(options);\n                $.extend(true, this.options, options);\n                if (this.toolbar && 'toolbar' in options) {\n                    this.toolbar.destroy();\n                    this.toolbar = null;\n                }\n                if (this.messageBox) {\n                    this.messageBox.unbind();\n                    this.messageBox.destroy();\n                    this.messageBox = null;\n                }\n                this._messageBox();\n                if ('toolbar' in options) {\n                    this._resetToolbarButtons(options);\n                    this._toolbar();\n                }\n            },\n            _resetToolbarButtons: function (options) {\n                var toolbarBoxWrapper = this.wrapper.find(DOT + chatStyles.toolbarBoxWrapper);\n                if (!toolbarBoxWrapper.is(':visible')) {\n                    toolbarBoxWrapper.show();\n                }\n                if ('buttons' in options.toolbar) {\n                    this.options.toolbar.buttons = options.toolbar.buttons;\n                }\n            },\n            destroy: function () {\n                if (this.view) {\n                    this.view.unbind();\n                    this.view.destroy();\n                    this.view = null;\n                }\n                if (this.messageBox) {\n                    this.messageBox.unbind();\n                    this.messageBox.destroy();\n                    this.messageBox = null;\n                }\n                if (this.toolbar) {\n                    this.toolbar.destroy();\n                    this.toolbar = null;\n                }\n                Widget.fn.destroy.call(this);\n            },\n            _user: function () {\n                this.options.user.id = kendo.guid();\n            },\n            getUser: function () {\n                return extend(true, {}, this.options.user);\n            },\n            _wrapper: function () {\n                var chatStyles = Chat.styles;\n                var options = this.options;\n                var height = options.height;\n                var width = options.width;\n                var uiElements = '<div class=\\'' + chatStyles.viewWrapper + '\\'></div>' + '<div class=\\'' + chatStyles.messageBoxWrapper + '\\'></div>' + '<div class=\\'' + chatStyles.toolbarBoxWrapper + '\\' role=\\'toolbar\\' style=\\'display:none;\\'></div>';\n                this.wrapper = this.element.addClass(chatStyles.wrapper).append(uiElements);\n                if (options.toolbar && options.toolbar.buttons && options.toolbar.buttons.length) {\n                    this.wrapper.find(DOT + chatStyles.toolbarBoxWrapper).show();\n                }\n                if (height) {\n                    this.wrapper.height(height);\n                }\n                if (width) {\n                    this.wrapper.css('max-width', width);\n                }\n            },\n            _view: function () {\n                var that = this;\n                var chatStyles = Chat.styles;\n                var options = extend(true, {}, this.options);\n                var element = this.wrapper.find(DOT + chatStyles.viewWrapper + '');\n                this.view = new kendo.chat.ChatView(element, options);\n                this.view.bind('actionClick', function (args) {\n                    that.trigger('actionClick', args);\n                    that.postMessage(args.text);\n                });\n            },\n            _messageBox: function () {\n                var that = this;\n                var chatStyles = Chat.styles;\n                var options = extend(true, {}, this.options);\n                var element = this.wrapper.find(DOT + chatStyles.messageBoxWrapper + '');\n                this.messageBox = new kendo.chat.ChatMessageBox(element, options);\n                this.messageBox.bind('typingStart', function (args) {\n                    that.trigger('typingStart', args);\n                }).bind('typingEnd', function (args) {\n                    that.trigger('typingEnd', args);\n                }).bind('sendMessage', function (args) {\n                    that.trigger('sendMessage', args);\n                    that.postMessage(args.text);\n                }).bind('toggleToolbar', function () {\n                    that.toggleToolbar();\n                });\n            },\n            _toolbar: function () {\n                var that = this;\n                var chatStyles = Chat.styles;\n                var options = extend(true, {}, that.options);\n                var element = that.wrapper.find(DOT + chatStyles.toolbarBoxWrapper + '');\n                if (options.toolbar.scrollable === undefined) {\n                    this.options.toolbar.scrollable = options.toolbar.scrollable = true;\n                }\n                if (options.toolbar.toggleable === undefined) {\n                    this.options.toolbar.toggleable = options.toolbar.toggleable = false;\n                }\n                that.toolbar = new kendo.chat.ChatToolBar(element, options);\n                that.toolbar.bind('click', function (ev) {\n                    that.trigger('toolClick', {\n                        sender: that,\n                        name: ev.name,\n                        button: ev.button,\n                        messageBox: that.messageBox.input[0],\n                        originalEvent: ev.originalEvent\n                    });\n                });\n            },\n            postMessage: function (message) {\n                var postArgs = extend(true, {}, {\n                    text: message,\n                    type: 'message',\n                    timestamp: new Date(),\n                    from: this.getUser()\n                });\n                this.trigger('post', postArgs);\n                this.renderMessage(postArgs, postArgs.from);\n            },\n            renderMessage: function (message, sender) {\n                this.view.renderMessage(message, sender);\n            },\n            renderSuggestedActions: function (suggestedActions) {\n                this.view.renderSuggestedActions(suggestedActions);\n            },\n            renderAttachments: function (options, sender) {\n                this.view.renderAttachments(options, sender);\n            },\n            toggleToolbar: function (skipAnimation) {\n                this.toolbar.toggle(skipAnimation);\n            },\n            renderUserTypingIndicator: function (sender) {\n                this.view._renderTypingIndicator(sender);\n            },\n            clearUserTypingIndicator: function (sender) {\n                this.view._removeTypingParticipant(sender);\n            },\n            removeTypingIndicator: function () {\n                this.view._removeTypingIndicator();\n            }\n        });\n        kendo.ui.plugin(Chat);\n        extend(true, Chat, { styles: chatStyles });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}