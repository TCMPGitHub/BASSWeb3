{"version":3,"sources":["kendo.dropdowntree.js"],"names":["f","define","$","undefined","contentChild","filter","node","result","children","length","kendo","window","ui","keys","DISABLED","SELECT","CHECKED","proxy","DATABOUND","CLICK","NS","INDETERMINATE","NAVIGATE","TreeView","subGroup","Tree","extend","init","element","options","dropdowntree","that","this","fn","call","_isMultipleSelection","wrapper","on","_clickSelectedItem","_checkOnSelect","e","isDefaultPrevented","dataItem","set","checked","_setCheckedValue","value","_click","one","currentTarget","_trigger","defaultrefresh","i","bubble","action","items","parentNode","loadOnDemand","checkChildren","checkboxes","_skip","field","level","_updateNodes","findByUid","uid","_progress","_appendItems","index","_remove","_refreshChildren","_refreshRoot","expanded","load","trigger","_treeViewDataBound","sender","updateIndeterminate","_previousVisible","lastChild","prev","root","last","_expanded","parent","checkAll","is","find","focus","filterInput","_keydown","target","key","keyCode","focused","current","checkbox","rtl","support","isRtl","RIGHT","LEFT","_nextVisible","hasClass","expand","collapse","_enabled","DOWN","UP","altKey","HOME","END","ENTER","SPACEBAR","prop","data","_checkboxChange","ESC","_closePopup","select","preventDefault","close","refresh","skipUpdateOnBind","_checkValue","selected","_selectValue","_dropdowntree","jQuery","amd","a1","a2","a3","assign","instance","fields","idx","lastIndex","SingleSelection","MultipleSelection","Widget","ObservableArray","ObservableObject","activeElement","_activeElement","ns","HIDDENCLASS","WIDTH","browser","outerWidth","_outerWidth","DOT","READONLY","STATEDISABLED","ARIA_DISABLED","HOVER","FOCUSED","HOVEREVENTS","TABINDEX","OPEN","CLOSE","CHANGE","DropDownTree","text","disabled","_selection","_getSelection","_focusInputHandler","_focusInput","_initial","val","_values","_noInitialValue","_valueMethodCalled","isArray","slice","_inputTemplate","_accessors","_setTreeViewOptions","_dataSource","_initWrapper","_placeholder","_tabindex","attr","tree","tabIndex","aria-hidden","list","append","_header","_noData","_footer","_reset","_popup","popup","_popupOpen","_clearButton","_filterHeader","_treeview","_renderFooter","_checkAll","_enable","_toggleCloseVisibility","autoBind","_preselect","_textAccessor","placeholder","parents","enable","notify","treeviewOptions","dataImageUrlField","dataSpriteCssClassField","dataTextField","dataUrlField","treeview","template","rootDataSource","dataSource","HierarchicalDataSource","create","wrap","setDataSource","name","animation","autoClose","autoWidth","clearButton","dataValueField","delay","enabled","enforceMinLength","height","ignoreCase","messages","singleTag","clear","deleteTag","minLength","noDataTemplate","checkAllTemplate","tagMode","valuePrimitive","footerTemplate","headerTemplate","valueTemplate","events","readonly","_editable","disable","toggle","open","_toggle","_isFilterEnabled","_search","fetch","visible","_allowOpening","addClass","_hovered","search","word","clearTimeout","_typingTimeout","_getFilter","_filtering","operator","flatView","_renderNoData","noData","setOptions","css","span","destroy","off","_clear","_inputWrapper","tagList","unbind","_form","_resetHandler","setValue","dataItems","_filter","_setValue","loweredText","toLowerCase","_selectItemByText","header","_angularElement","remove","prepend","angular","elements","appendTo","html","footer","_adjustListWidth","computedStyle","computedWidth","width","style","getComputedStyle","parseFloat","msie","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","fontFamily","minWidth","whiteSpace","formId","form","closest","setTimeout","Popup","anchor","_openHandler","_closeHandler","autosize","show","toggleClass","_currentValue","currentValue","_value","alreadyAddedTag","itemToAdd","itemToRemove","indexOfValue","isMultiple","_level","indexOf","grep","_tags","item","_tagUid","toJSON","push","hide","_multipleTags","_treeViewCheckAllCheck","splice","_preventChangeTrigger","position","_text","_accessor","_clearClick","stopPropagation","_clearTextAndValue","_clearInput","_clearText","_clearValue","useWithBlock","_assignInstance","split","getElements","removeClass","isPlainObject","get","getter","textField","valueField","getterFunction","count","levels","map","x","d","Math","min","_accessorInput","clearTitle","role","insertAfter","isReadOnly","hasValue","valueDoesNotEqualPlaceHolder","_hideClear","_showClear","guid","rootItems","rootItem","subItems","_prev","_deselectItem","_checkLoadedItems","_valueComparer","_checkLoadedItem","_getAllChecked","_checkCheckAll","_uncheckCheckAll","checkAllCheckbox","_allItemsAreChecked","_allItemsAreUnchecked","icon","_disableCheckChildren","title","aria-haspopup","aria-expanded","_filterChange","insertBefore","add","_clickCheckAll","_changeCheckAll","_keydownCheckAll","_disabledCheckedItems","_disabledUnCheckedItems","isChecked","edge","_updateCheckAll","_toggleCheckAllItems","_dfs","_traverceChildren","_uncheckItemByUid","_uncheckItemEqualsUid","_itemEqualsText","_selectItemByValue","_itemEqualsValue","_checkItemByValue","_checkItemEqualsValue","itemText","newValue","itemValue","_allCheckedItems","_getAllCheckedItems","childrenField","_childrenOptions","schema","_checkAllCheckItem","dropDownWrapper","removeAttr","_focusinHandler","_focusoutHandler","_toggleHover","_wrapperClick","_removeTagClick","_focused","_prevent","type","isFilterInputActive","isWrapperActive","tagItem","isPopupVisible","_focusPrevTag","_focusNextTag","_focusFirstTag","_focusLastTag","DELETE","first","_removeTag","BACKSPACE","_clearFilter","version","activedescendant","next","firstTag","_clearDisabledTag","lastTag","parentElement","plugin","Class","view","_wrapper","_span","DOMelement","cssText","className","accesskey","unselectable","SELECTOR","firstChild","_arrow","_arrowIcon","selectedNode","tempItem","_tagTemplate","_tagList","valueToSelect","tagTemplate","aria-activedescendant","_innerWrapper","tagCollection","viewModel","observable","multipleTag","tags","bind","oldValues","_removeValues","j","removedValues","_getNewValues","tagsArray","_findTag","tempItemValue"],"mappings":"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","file":"kendo.dropdowntree.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('dropdowntree/treeview', ['kendo.treeview'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, keys = kendo.keys, DISABLED = 'k-state-disabled', SELECT = 'select', CHECKED = 'checked', proxy = $.proxy, DATABOUND = 'dataBound', CLICK = 'click', NS = '.kendoTreeView', INDETERMINATE = 'indeterminate', NAVIGATE = 'navigate', subGroup, TreeView = ui.TreeView;\n        function contentChild(filter) {\n            return function (node) {\n                var result = node.children('.k-animation-container');\n                if (!result.length) {\n                    result = node;\n                }\n                return result.children(filter);\n            };\n        }\n        subGroup = contentChild('.k-group');\n        var Tree = TreeView.extend({\n            init: function (element, options, dropdowntree) {\n                var that = this;\n                that.dropdowntree = dropdowntree;\n                TreeView.fn.init.call(that, element, options);\n                if (that.dropdowntree._isMultipleSelection()) {\n                    that.wrapper.on(CLICK + NS, '.k-in.k-state-selected', proxy(that._clickSelectedItem, that));\n                }\n            },\n            _checkOnSelect: function (e) {\n                if (!e.isDefaultPrevented()) {\n                    var dataItem = this.dataItem(e.node);\n                    dataItem.set('checked', !dataItem.checked);\n                }\n            },\n            _setCheckedValue: function (node, value) {\n                node.set(CHECKED, value);\n            },\n            _click: function (e) {\n                var that = this;\n                if (that.dropdowntree._isMultipleSelection()) {\n                    that.one('select', that._checkOnSelect);\n                }\n                TreeView.fn._click.call(that, e);\n            },\n            _clickSelectedItem: function (e) {\n                var that = this, node = $(e.currentTarget);\n                that.one('select', that._checkOnSelect);\n                if (!that._trigger(SELECT, node)) {\n                    that.dataItem(node).set('selected', false);\n                }\n            },\n            defaultrefresh: function (e) {\n                var node = e.node;\n                var action = e.action;\n                var items = e.items;\n                var parentNode = this.wrapper;\n                var options = this.options;\n                var loadOnDemand = options.loadOnDemand;\n                var checkChildren = options.checkboxes && options.checkboxes.checkChildren;\n                var i;\n                if (this._skip) {\n                    return;\n                }\n                if (e.field) {\n                    if (!items[0] || !items[0].level) {\n                        return;\n                    }\n                    return this._updateNodes(items, e.field);\n                }\n                if (node) {\n                    parentNode = this.findByUid(node.uid);\n                    this._progress(parentNode, false);\n                }\n                if (checkChildren && action != 'remove') {\n                    var bubble = false;\n                    for (i = 0; i < items.length; i++) {\n                        if ('checked' in items[i]) {\n                            bubble = true;\n                            break;\n                        }\n                    }\n                    if (!bubble && node && node.checked) {\n                        for (i = 0; i < items.length; i++) {\n                            items[i].checked = true;\n                        }\n                    }\n                }\n                if (action == 'add') {\n                    this._appendItems(e.index, items, parentNode);\n                } else if (action == 'remove') {\n                    this._remove(this.findByUid(items[0].uid), false);\n                } else if (action == 'itemchange') {\n                    this._updateNodes(items);\n                } else if (action == 'itemloaded') {\n                    this._refreshChildren(parentNode, items, e.index);\n                } else {\n                    this._refreshRoot(items);\n                }\n                if (action != 'remove') {\n                    for (i = 0; i < items.length; i++) {\n                        if (!loadOnDemand || items[i].expanded) {\n                            items[i].load();\n                        }\n                    }\n                }\n                this.trigger(DATABOUND, { node: node ? parentNode : undefined });\n                this.dropdowntree._treeViewDataBound({\n                    node: node ? parentNode : undefined,\n                    sender: this\n                });\n                if (this.options.checkboxes.checkChildren) {\n                    this.updateIndeterminate();\n                }\n            },\n            _previousVisible: function (node) {\n                var that = this, lastChild, result;\n                if (!node.length || node.prev().length) {\n                    if (node.length) {\n                        result = node.prev();\n                    } else {\n                        result = that.root.children().last();\n                    }\n                    while (that._expanded(result)) {\n                        lastChild = subGroup(result).children().last();\n                        if (!lastChild.length) {\n                            break;\n                        }\n                        result = lastChild;\n                    }\n                } else {\n                    result = that.parent(node) || node;\n                    if (!result.length) {\n                        if (that.dropdowntree.checkAll && that.dropdowntree.checkAll.is(':visible')) {\n                            that.dropdowntree.checkAll.find('.k-checkbox').focus();\n                        } else if (that.dropdowntree.filterInput) {\n                            that.dropdowntree.filterInput.focus();\n                        } else {\n                            that.dropdowntree.wrapper.focus();\n                        }\n                    }\n                }\n                return result;\n            },\n            _keydown: function (e) {\n                var that = this, key = e.keyCode, target, focused = that.current(), expanded = that._expanded(focused), checkbox = focused.find('.k-checkbox-wrapper:first :checkbox'), rtl = kendo.support.isRtl(that.element);\n                if (e.target != e.currentTarget) {\n                    return;\n                }\n                if (!rtl && key == keys.RIGHT || rtl && key == keys.LEFT) {\n                    if (expanded) {\n                        target = that._nextVisible(focused);\n                    } else if (!focused.find('.k-in:first').hasClass(DISABLED)) {\n                        that.expand(focused);\n                    }\n                } else if (!rtl && key == keys.LEFT || rtl && key == keys.RIGHT) {\n                    if (expanded && !focused.find('.k-in:first').hasClass(DISABLED)) {\n                        that.collapse(focused);\n                    } else {\n                        target = that.parent(focused);\n                        if (!that._enabled(target)) {\n                            target = undefined;\n                        }\n                    }\n                } else if (key == keys.DOWN) {\n                    target = that._nextVisible(focused);\n                } else if (key == keys.UP && !e.altKey) {\n                    target = that._previousVisible(focused);\n                } else if (key == keys.HOME) {\n                    target = that._nextVisible($());\n                } else if (key == keys.END) {\n                    target = that._previousVisible($());\n                } else if (key == keys.ENTER && !focused.find('.k-in:first').hasClass(DISABLED)) {\n                    if (!focused.find('.k-in:first').hasClass('k-state-selected')) {\n                        if (!that._trigger(SELECT, focused)) {\n                            that.select(focused);\n                        }\n                    }\n                } else if (key == keys.SPACEBAR && checkbox.length && !focused.find('.k-in:first').hasClass(DISABLED)) {\n                    checkbox.prop(CHECKED, !checkbox.prop(CHECKED)).data(INDETERMINATE, false).prop(INDETERMINATE, false);\n                    that._checkboxChange({ target: checkbox });\n                    target = focused;\n                } else if (e.altKey && key === keys.UP || key === keys.ESC) {\n                    that._closePopup();\n                }\n                if (target) {\n                    e.preventDefault();\n                    if (focused[0] != target[0]) {\n                        that._trigger(NAVIGATE, target);\n                        that.current(target);\n                    }\n                }\n            },\n            _closePopup: function () {\n                this.dropdowntree.close();\n                this.dropdowntree.wrapper.focus();\n            },\n            refresh: function (e) {\n                this.defaultrefresh(e);\n                if (this.dropdowntree.options.skipUpdateOnBind) {\n                    return;\n                }\n                if (e.action === 'itemchange') {\n                    if (this.dropdowntree._isMultipleSelection()) {\n                        if (e.field === 'checked') {\n                            this.dropdowntree._checkValue(e.items[0]);\n                        }\n                    } else {\n                        if (e.field !== 'checked' && e.field !== 'expanded' && e.items[0].selected) {\n                            this.dropdowntree._selectValue(e.items[0]);\n                        }\n                    }\n                } else {\n                    this.dropdowntree.refresh(e);\n                }\n            }\n        });\n        kendo.ui._dropdowntree = Tree;\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.dropdowntree', [\n        'dropdowntree/treeview',\n        'kendo.popup'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'dropdowntree',\n        name: 'DropDownTree',\n        category: 'web',\n        description: 'The DropDownTree widget displays a hierarchy of items and allows the selection of single or multiple items.',\n        depends: [\n            'treeview',\n            'popup'\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, Widget = ui.Widget, TreeView = ui._dropdowntree, ObservableArray = kendo.data.ObservableArray, ObservableObject = kendo.data.ObservableObject, extend = $.extend, activeElement = kendo._activeElement, ns = '.kendoDropDownTree', keys = kendo.keys, support = kendo.support, HIDDENCLASS = 'k-hidden', WIDTH = 'width', browser = support.browser, outerWidth = kendo._outerWidth, DOT = '.', DISABLED = 'disabled', READONLY = 'readonly', STATEDISABLED = 'k-state-disabled', ARIA_DISABLED = 'aria-disabled', HOVER = 'k-state-hover', FOCUSED = 'k-state-focused', HOVEREVENTS = 'mouseenter' + ns + ' mouseleave' + ns, TABINDEX = 'tabindex', CLICK = 'click', OPEN = 'open', CLOSE = 'close', CHANGE = 'change', proxy = $.proxy;\n        var DropDownTree = kendo.ui.Widget.extend({\n            init: function (element, options) {\n                this.ns = ns;\n                kendo.ui.Widget.fn.init.call(this, element, options);\n                this._selection = this._getSelection();\n                this._focusInputHandler = $.proxy(this._focusInput, this);\n                this._initial = this.element.val();\n                this._values = [];\n                var value = this.options.value;\n                if (value === null || !value.length) {\n                    this._noInitialValue = true;\n                }\n                if (value) {\n                    this._valueMethodCalled = true;\n                    this._values = $.isArray(value) ? value.slice(0) : [value];\n                }\n                this._inputTemplate();\n                this._accessors();\n                this._setTreeViewOptions(this.options);\n                this._dataSource();\n                this._selection._initWrapper();\n                this._placeholder(true);\n                this._tabindex();\n                this.wrapper.data(TABINDEX, this.wrapper.attr(TABINDEX));\n                this.tree = $('<div/>').attr({\n                    tabIndex: -1,\n                    'aria-hidden': true\n                });\n                this.list = $('<div class=\\'k-list-container\\'/>').append(this.tree);\n                this._header();\n                this._noData();\n                this._footer();\n                this._reset();\n                this._popup();\n                this.popup.one('open', proxy(this._popupOpen, this));\n                this._clearButton();\n                this._filterHeader();\n                this._treeview();\n                this._renderFooter();\n                this._checkAll();\n                this._enable();\n                this._toggleCloseVisibility();\n                if (!this.options.autoBind) {\n                    var text = options.text || '';\n                    if (options.value) {\n                        this._preselect(options.value);\n                    } else if (text) {\n                        this._textAccessor(text);\n                    } else if (options.placeholder) {\n                        this._placeholder(true);\n                    }\n                }\n                var disabled = $(this.element).parents('fieldset').is(':disabled');\n                if (disabled) {\n                    this.enable(false);\n                }\n                this._valueMethodCalled = false;\n                kendo.notify(this);\n            },\n            _preselect: function (data, value) {\n                this._selection._preselect(data, value);\n            },\n            _setTreeViewOptions: function (options) {\n                var treeviewOptions = {\n                    autoBind: options.autoBind,\n                    checkboxes: options.checkboxes,\n                    dataImageUrlField: options.dataImageUrlField,\n                    dataSpriteCssClassField: options.dataSpriteCssClassField,\n                    dataTextField: options.dataTextField,\n                    dataUrlField: options.dataUrlField,\n                    loadOnDemand: options.loadOnDemand\n                };\n                this.options.treeview = $.extend({}, treeviewOptions, this.options.treeview);\n                if (options.template) {\n                    this.options.treeview.template = options.template;\n                }\n            },\n            _dataSource: function () {\n                var rootDataSource = this.options.dataSource;\n                this.dataSource = kendo.data.HierarchicalDataSource.create(rootDataSource);\n                if (rootDataSource) {\n                    $.extend(this.options.treeview, { dataSource: this.dataSource });\n                }\n            },\n            _popupOpen: function () {\n                var popup = this.popup;\n                popup.wrapper = kendo.wrap(popup.element);\n            },\n            _getSelection: function () {\n                if (this._isMultipleSelection()) {\n                    return new ui.DropDownTree.MultipleSelection(this);\n                } else {\n                    return new ui.DropDownTree.SingleSelection(this);\n                }\n            },\n            setDataSource: function (dataSource) {\n                this.dataSource = dataSource;\n                this.treeview.setDataSource(dataSource);\n            },\n            _isMultipleSelection: function () {\n                return this.options && (this.options.treeview.checkboxes || this.options.checkboxes);\n            },\n            options: {\n                name: 'DropDownTree',\n                animation: {},\n                autoBind: true,\n                autoClose: true,\n                autoWidth: false,\n                clearButton: true,\n                dataTextField: '',\n                dataValueField: '',\n                dataImageUrlField: '',\n                dataSpriteCssClassField: '',\n                dataUrlField: '',\n                delay: 500,\n                enabled: true,\n                enforceMinLength: false,\n                filter: 'none',\n                height: 200,\n                ignoreCase: true,\n                index: 0,\n                loadOnDemand: false,\n                messages: {\n                    'singleTag': 'item(s) selected',\n                    'clear': 'clear',\n                    'deleteTag': 'delete'\n                },\n                minLength: 1,\n                checkboxes: false,\n                noDataTemplate: 'No data found.',\n                placeholder: '',\n                checkAll: false,\n                checkAllTemplate: 'Check all',\n                tagMode: 'multiple',\n                template: null,\n                text: null,\n                treeview: {},\n                valuePrimitive: false,\n                footerTemplate: '',\n                headerTemplate: '',\n                value: null,\n                valueTemplate: null\n            },\n            events: [\n                'open',\n                'close',\n                'dataBound',\n                CHANGE,\n                'select',\n                'filtering'\n            ],\n            focus: function () {\n                this.wrapper.focus();\n            },\n            dataItem: function (node) {\n                return this.treeview.dataItem(node);\n            },\n            readonly: function (readonly) {\n                this._editable({\n                    readonly: readonly === undefined ? true : readonly,\n                    disable: false\n                });\n                this._toggleCloseVisibility();\n            },\n            enable: function (enable) {\n                this._editable({\n                    readonly: false,\n                    disable: !(enable = enable === undefined ? true : enable)\n                });\n                this._toggleCloseVisibility();\n            },\n            toggle: function (open) {\n                this._toggle(open);\n            },\n            open: function () {\n                var popup = this.popup;\n                if (!this.options.autoBind && !this.dataSource.data().length) {\n                    this.treeview._progress(true);\n                    if (this._isFilterEnabled()) {\n                        this._search();\n                    } else {\n                        this.dataSource.fetch();\n                    }\n                }\n                if (popup.visible() || !this._allowOpening()) {\n                    return;\n                }\n                if (this._isMultipleSelection()) {\n                    popup.element.addClass('k-multiple-selection');\n                }\n                popup.element.addClass('k-popup-dropdowntree');\n                popup.one('activate', this._focusInputHandler);\n                popup._hovered = true;\n                popup.open();\n            },\n            close: function () {\n                this.popup.close();\n            },\n            search: function (word) {\n                var options = this.options;\n                var filter;\n                clearTimeout(this._typingTimeout);\n                if (!options.enforceMinLength && !word.length || word.length >= options.minLength) {\n                    filter = this._getFilter(word);\n                    if (this.trigger('filtering', { filter: filter }) || $.isArray(this.options.dataTextField)) {\n                        return;\n                    }\n                    this._filtering = true;\n                    this.treeview.dataSource.filter(filter);\n                }\n            },\n            _getFilter: function (word) {\n                return {\n                    field: this.options.dataTextField,\n                    operator: this.options.filter,\n                    value: word,\n                    ignoreCase: this.options.ignoreCase\n                };\n            },\n            refresh: function () {\n                var data = this.treeview.dataSource.flatView();\n                this._renderFooter();\n                this._renderNoData();\n                if (this.filterInput && this.checkAll) {\n                    this.checkAll.toggle(!this.filterInput.val().length);\n                }\n                this.tree.toggle(!!data.length);\n                $(this.noData).toggle(!data.length);\n            },\n            setOptions: function (options) {\n                Widget.fn.setOptions.call(this, options);\n                this._setTreeViewOptions(options);\n                this._dataSource();\n                if (this.options.treeview) {\n                    this.treeview.setOptions(this.options.treeview);\n                }\n                if (options.height && this.tree) {\n                    this.tree.css('max-height', options.height);\n                }\n                this._header();\n                this._noData();\n                this._footer();\n                this._renderFooter();\n                this._renderNoData();\n                if (this.span && (this._isMultipleSelection() || this.span.hasClass('k-readonly'))) {\n                    this._placeholder(true);\n                }\n                this._inputTemplate();\n                this._accessors();\n                this._filterHeader();\n                this._checkAll();\n                this._enable();\n                if (options && (options.enable || options.enabled)) {\n                    this.enable(true);\n                }\n                this._clearButton();\n            },\n            destroy: function () {\n                kendo.ui.Widget.fn.destroy.call(this);\n                if (this.treeview) {\n                    this.treeview.destroy();\n                }\n                this.popup.destroy();\n                this.wrapper.off(ns);\n                this._clear.off(ns);\n                this._inputWrapper.off(ns);\n                if (this.filterInput) {\n                    this.filterInput.off(ns);\n                }\n                if (this.tagList) {\n                    this.tagList.off(ns);\n                }\n                kendo.unbind(this.tagList);\n                if (this.options.checkAll && this.checkAll) {\n                    this.checkAll.off(ns);\n                }\n                if (this._form) {\n                    this._form.off('reset', this._resetHandler);\n                }\n            },\n            setValue: function (value) {\n                value = $.isArray(value) || value instanceof ObservableArray ? value.slice(0) : [value];\n                this._values = value;\n            },\n            items: function () {\n                this.treeview.dataItems();\n            },\n            value: function (value) {\n                var that = this;\n                if (value) {\n                    if (that.filterInput && that.dataSource._filter) {\n                        that._filtering = true;\n                        that.dataSource.filter({});\n                    } else if (!that.dataSource.data().length) {\n                        that.dataSource.fetch(function () {\n                            that._selection._setValue(value);\n                        });\n                        return;\n                    }\n                }\n                return that._selection._setValue(value);\n            },\n            text: function (text) {\n                var loweredText;\n                var ignoreCase = this.options.ignoreCase;\n                text = text === null ? '' : text;\n                if (text !== undefined && !this._isMultipleSelection()) {\n                    if (typeof text !== 'string') {\n                        this._textAccessor(text);\n                        return;\n                    }\n                    loweredText = ignoreCase ? text : text.toLowerCase();\n                    this._selectItemByText(loweredText);\n                    this._textAccessor(loweredText);\n                } else {\n                    return this._textAccessor();\n                }\n            },\n            _header: function () {\n                var list = this;\n                var header = $(list.header);\n                var template = list.options.headerTemplate;\n                this._angularElement(header, 'cleanup');\n                kendo.destroy(header);\n                header.remove();\n                if (!template) {\n                    list.header = null;\n                    return;\n                }\n                var headerTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n                header = $(headerTemplate({}));\n                list.header = header[0] ? header : null;\n                list.list.prepend(header);\n                this._angularElement(list.header, 'compile');\n            },\n            _noData: function () {\n                var list = this;\n                var noData = $(list.noData);\n                var template = list.options.noDataTemplate;\n                list.angular('cleanup', function () {\n                    return { elements: noData };\n                });\n                kendo.destroy(noData);\n                noData.remove();\n                if (!template) {\n                    list.noData = null;\n                    return;\n                }\n                list.noData = $('<div class=\"k-nodata\" style=\"display:none\"><div></div></div>').appendTo(list.list);\n                list.noDataTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n            },\n            _renderNoData: function () {\n                var list = this;\n                var noData = list.noData;\n                if (!noData) {\n                    return;\n                }\n                this._angularElement(noData, 'cleanup');\n                noData.children(':first').html(list.noDataTemplate({ instance: list }));\n                this._angularElement(noData, 'compile');\n            },\n            _footer: function () {\n                var list = this;\n                var footer = $(list.footer);\n                var template = list.options.footerTemplate;\n                this._angularElement(footer, 'cleanup');\n                kendo.destroy(footer);\n                footer.remove();\n                if (!template) {\n                    list.footer = null;\n                    return;\n                }\n                list.footer = $('<div class=\"k-footer\"></div>').appendTo(list.list);\n                list.footerTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n            },\n            _renderFooter: function () {\n                var list = this;\n                var footer = list.footer;\n                if (!footer) {\n                    return;\n                }\n                this._angularElement(footer, 'cleanup');\n                footer.html(list.footerTemplate({ instance: list }));\n                this._angularElement(footer, 'compile');\n            },\n            _enable: function () {\n                var that = this, options = that.options, disabled = that.element.is('[disabled]');\n                if (options.enable !== undefined) {\n                    options.enabled = options.enable;\n                }\n                if (!options.enabled || disabled) {\n                    that.enable(false);\n                } else {\n                    that.readonly(that.element.is('[readonly]'));\n                }\n            },\n            _adjustListWidth: function () {\n                var that = this, list = that.list, width = list[0].style.width, wrapper = that.wrapper, computedStyle, computedWidth;\n                if (!list.data(WIDTH) && width) {\n                    return;\n                }\n                computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n                computedWidth = parseFloat(computedStyle && computedStyle.width) || outerWidth(wrapper);\n                if (computedStyle && browser.msie) {\n                    computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n                }\n                if (list.css('box-sizing') !== 'border-box') {\n                    width = computedWidth - (outerWidth(list) - list.width());\n                } else {\n                    width = computedWidth;\n                }\n                list.css({\n                    fontFamily: wrapper.css('font-family'),\n                    width: that.options.autoWidth ? 'auto' : width,\n                    minWidth: width,\n                    whiteSpace: that.options.autoWidth ? 'nowrap' : 'normal'\n                }).data(WIDTH, width);\n                return true;\n            },\n            _reset: function () {\n                var that = this, element = that.element, formId = element.attr('form'), form = formId ? $('#' + formId) : element.closest('form');\n                if (form[0]) {\n                    that._resetHandler = function () {\n                        setTimeout(function () {\n                            that.value(that._initial);\n                        });\n                    };\n                    that._form = form.on('reset', that._resetHandler);\n                }\n            },\n            _popup: function () {\n                var list = this;\n                list.popup = new ui.Popup(list.list, extend({}, list.options.popup, {\n                    anchor: list.wrapper,\n                    open: proxy(list._openHandler, list),\n                    close: proxy(list._closeHandler, list),\n                    animation: list.options.animation,\n                    isRtl: support.isRtl(list.wrapper),\n                    autosize: list.options.autoWidth\n                }));\n            },\n            _angularElement: function (element, action) {\n                if (!element) {\n                    return;\n                }\n                this.angular(action, function () {\n                    return { elements: element };\n                });\n            },\n            _allowOpening: function () {\n                return this.options.noDataTemplate || this.treeview.dataSource.flatView().length;\n            },\n            _placeholder: function (show) {\n                if (this.span) {\n                    this.span.toggleClass('k-readonly', show).text(show ? this.options.placeholder : '');\n                }\n            },\n            _currentValue: function (dataItem) {\n                var currentValue = this._value(dataItem);\n                if (!currentValue && currentValue !== 0) {\n                    currentValue = dataItem;\n                }\n                return currentValue;\n            },\n            _checkValue: function (dataItem) {\n                var value = '';\n                var indexOfValue = -1;\n                var currentValue = this.value();\n                var isMultiple = this.options.tagMode === 'multiple';\n                if (dataItem || dataItem === 0) {\n                    if (dataItem.level) {\n                        dataItem._level = dataItem.level();\n                    }\n                    value = this._currentValue(dataItem);\n                    indexOfValue = currentValue.indexOf(value);\n                }\n                if (dataItem.checked) {\n                    var alreadyAddedTag = $.grep(this._tags, function (item) {\n                        return item.uid === dataItem._tagUid;\n                    });\n                    if (alreadyAddedTag.length) {\n                        return;\n                    }\n                    var itemToAdd = new ObservableObject(dataItem.toJSON());\n                    dataItem._tagUid = itemToAdd.uid;\n                    this._tags.push(itemToAdd);\n                    if (this._tags.length === 1) {\n                        this.span.hide();\n                        if (!isMultiple) {\n                            this._multipleTags.push(itemToAdd);\n                        }\n                    }\n                    if (indexOfValue === -1) {\n                        currentValue.push(value);\n                        this.setValue(currentValue);\n                    }\n                } else {\n                    var itemToRemove = this._tags.find(function (item) {\n                        return item.uid === dataItem._tagUid;\n                    });\n                    var idx = this._tags.indexOf(itemToRemove);\n                    if (idx !== -1) {\n                        this._tags.splice(idx, 1);\n                    } else {\n                        this._treeViewCheckAllCheck(dataItem);\n                        return;\n                    }\n                    if (this._tags.length === 0) {\n                        this.span.show();\n                        if (!isMultiple) {\n                            this._multipleTags.splice(0, 1);\n                        }\n                    }\n                    if (indexOfValue !== -1) {\n                        currentValue.splice(indexOfValue, 1);\n                        this.setValue(currentValue);\n                    }\n                }\n                this._treeViewCheckAllCheck(dataItem);\n                if (!this._preventChangeTrigger && !this._valueMethodCalled && !this._noInitialValue) {\n                    this.trigger(CHANGE);\n                }\n                if (this.options.autoClose && this.popup.visible()) {\n                    this.close();\n                    this.wrapper.focus();\n                }\n                this.popup.position();\n                this._toggleCloseVisibility();\n            },\n            _selectValue: function (dataItem) {\n                var value = '';\n                var text = '';\n                if (dataItem || dataItem === 0) {\n                    if (dataItem.level) {\n                        dataItem._level = dataItem.level();\n                    }\n                    text = this._text(dataItem) || dataItem;\n                    value = this._currentValue(dataItem);\n                }\n                if (value === null) {\n                    value = '';\n                }\n                this.setValue(value);\n                this._textAccessor(text, dataItem);\n                this._accessor(value);\n                if (!this._valueMethodCalled) {\n                    this.trigger(CHANGE);\n                }\n                this._valueMethodCalled = false;\n                if (this.options.autoClose && this.popup.visible()) {\n                    this.close();\n                    this.wrapper.focus();\n                }\n                this.popup.position();\n                this._toggleCloseVisibility();\n            },\n            _clearClick: function (e) {\n                e.stopPropagation();\n                this._clearTextAndValue();\n            },\n            _clearTextAndValue: function () {\n                this.setValue([]);\n                this._clearInput();\n                this._clearText();\n                this._selection._clearValue();\n                this.popup.position();\n                this._toggleCloseVisibility();\n            },\n            _clearText: function () {\n                if (this.options.placeholder) {\n                    this._placeholder(true);\n                } else {\n                    if (this.span) {\n                        this.span.html('');\n                    }\n                }\n            },\n            _inputTemplate: function () {\n                var template = this.options.valueTemplate;\n                if (!template) {\n                    template = $.proxy(kendo.template('#:this._text(data)#', { useWithBlock: false }), this);\n                } else {\n                    template = kendo.template(template);\n                }\n                this.valueTemplate = template;\n            },\n            _assignInstance: function (text, value) {\n                var dataTextField = this.options.dataTextField;\n                var dataItem = {};\n                if (dataTextField) {\n                    assign(dataItem, dataTextField.split(DOT), text);\n                    assign(dataItem, this.options.dataValueField.split(DOT), value);\n                    dataItem = new ObservableObject(dataItem);\n                } else {\n                    dataItem = text;\n                }\n                return dataItem;\n            },\n            _textAccessor: function (text, dataItem) {\n                var valueTemplate = this.valueTemplate;\n                var span = this.span;\n                if (text === undefined) {\n                    return span.text();\n                }\n                span.removeClass('k-readonly');\n                if (!dataItem && ($.isPlainObject(text) || text instanceof ObservableObject)) {\n                    dataItem = text;\n                }\n                if (!dataItem) {\n                    dataItem = this._assignInstance(text, this._accessor());\n                }\n                var getElements = function () {\n                    return {\n                        elements: span.get(),\n                        data: [{ dataItem: dataItem }]\n                    };\n                };\n                this.angular('cleanup', getElements);\n                try {\n                    span.html(valueTemplate(dataItem));\n                } catch (e) {\n                    if (span) {\n                        span.html('');\n                    }\n                }\n                this.angular('compile', getElements);\n            },\n            _accessors: function () {\n                var element = this.element;\n                var options = this.options;\n                var getter = kendo.getter;\n                var textField = element.attr(kendo.attr('text-field'));\n                var valueField = element.attr(kendo.attr('value-field'));\n                var getterFunction = function (field) {\n                    if ($.isArray(field)) {\n                        var count = field.length;\n                        var levels = $.map(field, function (x) {\n                            return function (d) {\n                                return d[x];\n                            };\n                        });\n                        return function (dataItem) {\n                            var level = dataItem._level;\n                            if (!level && level !== 0) {\n                                return;\n                            }\n                            return levels[Math.min(level, count - 1)](dataItem);\n                        };\n                    } else {\n                        return getter(field);\n                    }\n                };\n                if (!options.dataTextField && textField) {\n                    options.dataTextField = textField;\n                }\n                if (!options.dataValueField && valueField) {\n                    options.dataValueField = valueField;\n                }\n                options.dataTextField = options.dataTextField || 'text';\n                options.dataValueField = options.dataValueField || 'value';\n                this._text = getterFunction(options.dataTextField);\n                this._value = getterFunction(options.dataValueField);\n            },\n            _accessor: function (value, idx) {\n                return this._accessorInput(value, idx);\n            },\n            _accessorInput: function (value) {\n                var element = this.element[0];\n                if (value === undefined) {\n                    return element.value;\n                } else {\n                    if (value === null) {\n                        value = '';\n                    }\n                    element.value = value;\n                }\n            },\n            _clearInput: function () {\n                var element = this.element[0];\n                element.value = '';\n            },\n            _clearButton: function () {\n                var clearTitle = this.options.messages && this.options.messages.clear ? this.options.messages.clear : 'clear';\n                if (!this._clear) {\n                    this._clear = $('<span unselectable=\"on\" class=\"k-icon k-clear-value k-i-close\" title=\"' + clearTitle + '\"></span>').attr({\n                        'role': 'button',\n                        'tabIndex': -1\n                    });\n                }\n                if (this.options.clearButton) {\n                    this._clear.insertAfter(this.span);\n                    this.wrapper.addClass('k-dropdowntree-clearable');\n                } else {\n                    if (!this.options.clearButton) {\n                        this._clear.remove();\n                    }\n                }\n            },\n            _toggleCloseVisibility: function () {\n                var isReadOnly = this.element.attr(READONLY);\n                var hasValue = this.value() && !this._isMultipleSelection() || this.value().length;\n                var valueDoesNotEqualPlaceHolder = this.element.val() && this.element.val() !== this.options.placeholder;\n                if (!isReadOnly && (hasValue || valueDoesNotEqualPlaceHolder)) {\n                    this._showClear();\n                } else {\n                    this._hideClear();\n                }\n            },\n            _showClear: function () {\n                if (this._clear) {\n                    this._clear.removeClass(HIDDENCLASS);\n                }\n            },\n            _hideClear: function () {\n                if (this._clear) {\n                    this._clear.addClass(HIDDENCLASS);\n                }\n            },\n            _openHandler: function (e) {\n                this._adjustListWidth();\n                if (this.trigger(OPEN)) {\n                    e.preventDefault();\n                } else {\n                    this.wrapper.attr('aria-expanded', true);\n                    this.tree.attr('aria-hidden', false).attr('role', 'tree');\n                }\n            },\n            _closeHandler: function (e) {\n                if (this.trigger(CLOSE)) {\n                    e.preventDefault();\n                } else {\n                    this.wrapper.attr('aria-expanded', false);\n                    this.tree.attr('aria-hidden', true);\n                }\n            },\n            _treeview: function () {\n                var that = this;\n                if (that.options.height) {\n                    that.tree.css('max-height', that.options.height);\n                }\n                that.tree.attr('id', kendo.guid());\n                that.treeview = new TreeView(that.tree, extend({ select: that.options.select }, that.options.treeview), that);\n                that.dataSource = that.treeview.dataSource;\n            },\n            _treeViewDataBound: function (e) {\n                if (e.node && this._prev && this._prev.length) {\n                    e.sender.expand(e.node);\n                }\n                if (this._filtering) {\n                    if (!e.node) {\n                        this._filtering = false;\n                    }\n                    if (!this._isMultipleSelection()) {\n                        this._deselectItem(e);\n                    }\n                    return;\n                }\n                if (!this.treeview) {\n                    this.treeview = e.sender;\n                }\n                if (!e.node) {\n                    var rootItems = e.sender.dataSource.data();\n                    this._checkLoadedItems(rootItems);\n                    if (this._noInitialValue) {\n                        this._noInitialValue = false;\n                    }\n                } else {\n                    var rootItem = e.sender.dataItem(e.node);\n                    if (rootItem) {\n                        var subItems = rootItem.children.data();\n                        this._checkLoadedItems(subItems);\n                    }\n                }\n                this.trigger('dataBound', e);\n            },\n            _deselectItem: function (e) {\n                var items = [];\n                if (!e.node) {\n                    items = e.sender.dataSource.data();\n                } else {\n                    var rootItem = e.sender.dataItem(e.node);\n                    if (rootItem) {\n                        items = rootItem.children.data();\n                    }\n                }\n                for (var i = 0; i < items.length; i++) {\n                    if (items[i].selected && !this._valueComparer(items[i], this.value())) {\n                        items[i].set('selected', false);\n                    }\n                }\n            },\n            _checkLoadedItems: function (items) {\n                var value = this.value();\n                if (!items) {\n                    return;\n                }\n                for (var idx = 0; idx < items.length; idx++) {\n                    this._selection._checkLoadedItem(items[idx], value);\n                }\n            },\n            _treeViewCheckAllCheck: function (dataItem) {\n                if (this.options.checkAll && this.checkAll) {\n                    this._getAllChecked();\n                    if (dataItem.checked) {\n                        this._checkCheckAll();\n                    } else {\n                        this._uncheckCheckAll();\n                    }\n                }\n            },\n            _checkCheckAll: function () {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n                if (this._allItemsAreChecked) {\n                    checkAllCheckbox.prop('checked', true).prop('indeterminate', false);\n                } else {\n                    checkAllCheckbox.prop('indeterminate', true);\n                }\n            },\n            _uncheckCheckAll: function () {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n                if (this._allItemsAreUnchecked) {\n                    checkAllCheckbox.prop('checked', false).prop('indeterminate', false);\n                } else {\n                    checkAllCheckbox.prop('indeterminate', true);\n                }\n            },\n            _filterHeader: function () {\n                var icon;\n                if (this.filterInput) {\n                    this.filterInput.off(ns).parent().remove();\n                    this.filterInput = null;\n                }\n                if (this._isFilterEnabled()) {\n                    this._disableCheckChildren();\n                    icon = '<span class=\"k-icon k-i-zoom\"></span>';\n                    this.filterInput = $('<input class=\"k-textbox\"/>').attr({\n                        placeholder: this.element.attr('placeholder'),\n                        title: this.element.attr('title'),\n                        role: 'listbox',\n                        'aria-haspopup': true,\n                        'aria-expanded': false\n                    });\n                    this.filterInput.on('input', proxy(this._filterChange, this));\n                    $('<span class=\"k-list-filter\" />').insertBefore(this.tree).append(this.filterInput.add(icon));\n                }\n            },\n            _filterChange: function () {\n                if (this.filterInput) {\n                    this._search();\n                }\n            },\n            _disableCheckChildren: function () {\n                if (this._isMultipleSelection() && this.options.treeview.checkboxes && this.options.treeview.checkboxes.checkChildren) {\n                    this.options.treeview.checkboxes.checkChildren = false;\n                }\n            },\n            _checkAll: function () {\n                if (this.checkAll) {\n                    this.checkAll.find('.k-checkbox-label, .k-checkbox').off(ns);\n                    this.checkAll.remove();\n                    this.checkAll = null;\n                }\n                if (this._isMultipleSelection() && this.options.checkAll) {\n                    this.checkAll = $('<div class=\"k-check-all\"><input type=\"checkbox\" class=\"k-checkbox\"/><span class=\"k-checkbox-label\">Check All</span></div>').insertBefore(this.tree);\n                    this.checkAll.find('.k-checkbox-label').html(kendo.template(this.options.checkAllTemplate)({ instance: this }));\n                    this.checkAll.find('.k-checkbox-label').on(CLICK + ns, proxy(this._clickCheckAll, this));\n                    this.checkAll.find('.k-checkbox').on('change' + ns, proxy(this._changeCheckAll, this)).on('keydown' + ns, proxy(this._keydownCheckAll, this));\n                    this._disabledCheckedItems = [];\n                    this._disabledUnCheckedItems = [];\n                    this._getAllChecked();\n                    if (!this._allItemsAreUnchecked) {\n                        this._checkCheckAll();\n                    }\n                }\n            },\n            _changeCheckAll: function () {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n                var isChecked = checkAllCheckbox.prop('checked');\n                if (!browser.msie && !browser.edge) {\n                    this._updateCheckAll(isChecked);\n                }\n            },\n            _updateCheckAll: function (isChecked) {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n                this._toggleCheckAllItems(isChecked);\n                checkAllCheckbox.prop('checked', isChecked);\n                if (this._disabledCheckedItems.length && this._disabledUnCheckedItems.length) {\n                    checkAllCheckbox.prop('indeterminate', true);\n                } else if (this._disabledCheckedItems.length) {\n                    checkAllCheckbox.prop('indeterminate', !isChecked);\n                } else if (this._disabledUnCheckedItems.length) {\n                    checkAllCheckbox.prop('indeterminate', isChecked);\n                } else {\n                    checkAllCheckbox.prop('indeterminate', false);\n                }\n                this._disabledCheckedItems = [];\n                this._disabledUnCheckedItems = [];\n            },\n            _keydownCheckAll: function (e) {\n                var key = e.keyCode;\n                var altKey = e.altKey;\n                if (altKey && key === keys.UP || key === keys.ESC) {\n                    this.close();\n                    this.wrapper.focus();\n                    e.preventDefault();\n                    return;\n                }\n                if (key === keys.UP) {\n                    if (this.filterInput) {\n                        this.filterInput.focus();\n                    } else {\n                        this.wrapper.focus();\n                    }\n                    e.preventDefault();\n                }\n                if (key === keys.DOWN) {\n                    if (this.tree && this.tree.is(':visible')) {\n                        this.tree.focus();\n                    }\n                    e.preventDefault();\n                }\n                if (key === keys.SPACEBAR && (browser.msie || browser.edge)) {\n                    this._clickCheckAll();\n                    e.preventDefault();\n                }\n            },\n            _clickCheckAll: function () {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n                var isChecked = checkAllCheckbox.prop('checked');\n                this._updateCheckAll(!isChecked);\n                checkAllCheckbox.focus();\n            },\n            _dfs: function (items, action, prop) {\n                for (var idx = 0; idx < items.length; idx++) {\n                    if (!this[action](items[idx], prop)) {\n                        break;\n                    }\n                    this._traverceChildren(items[idx], action, prop);\n                }\n            },\n            _uncheckItemByUid: function (uid) {\n                this._dfs(this.dataSource.data(), '_uncheckItemEqualsUid', uid);\n            },\n            _uncheckItemEqualsUid: function (item, uid) {\n                if (item.enabled !== false && item._tagUid == uid) {\n                    item.set('checked', false);\n                    return false;\n                }\n                return true;\n            },\n            _selectItemByText: function (text) {\n                this._dfs(this.dataSource.data(), '_itemEqualsText', text);\n            },\n            _itemEqualsText: function (item, text) {\n                if (item.enabled !== false && this._text(item) === text) {\n                    this.treeview.select(this.treeview.findByUid(item.uid));\n                    this._selectValue(item);\n                    return false;\n                }\n                return true;\n            },\n            _selectItemByValue: function (value) {\n                this._dfs(this.dataSource.data(), '_itemEqualsValue', value);\n            },\n            _itemEqualsValue: function (item, value) {\n                if (item.enabled !== false && this._valueComparer(item, value)) {\n                    this.treeview.select(this.treeview.findByUid(item.uid));\n                    return false;\n                }\n                return true;\n            },\n            _checkItemByValue: function (value) {\n                var items = this.treeview.dataItems();\n                for (var idx = 0; idx < value.length; idx++) {\n                    this._dfs(items, '_checkItemEqualsValue', value[idx]);\n                }\n            },\n            _checkItemEqualsValue: function (item, value) {\n                if (item.enabled !== false && this._valueComparer(item, value)) {\n                    item.set('checked', true);\n                    return false;\n                }\n                return true;\n            },\n            _valueComparer: function (item, value) {\n                var itemValue = this._value(item);\n                var itemText;\n                if (itemValue) {\n                    if (!value) {\n                        return false;\n                    }\n                    var newValue = this._value(value);\n                    if (newValue) {\n                        return itemValue == newValue;\n                    } else {\n                        return itemValue == value;\n                    }\n                }\n                itemText = this._text(item);\n                if (itemText) {\n                    if (this._text(value)) {\n                        return itemText == this._text(value);\n                    } else {\n                        return itemText == value;\n                    }\n                }\n                return false;\n            },\n            _getAllChecked: function () {\n                this._allCheckedItems = [];\n                this._allItemsAreChecked = true;\n                this._allItemsAreUnchecked = true;\n                this._dfs(this.dataSource.data(), '_getAllCheckedItems');\n                return this._allCheckedItems;\n            },\n            _getAllCheckedItems: function (item) {\n                if (this._allItemsAreChecked) {\n                    this._allItemsAreChecked = item.checked;\n                }\n                if (this._allItemsAreUnchecked) {\n                    this._allItemsAreUnchecked = !item.checked;\n                }\n                if (item.checked) {\n                    this._allCheckedItems.push(item);\n                }\n                return true;\n            },\n            _traverceChildren: function (item, action, prop) {\n                var childrenField = item._childrenOptions && item._childrenOptions.schema ? item._childrenOptions.schema.data : null;\n                var subItems = item[childrenField] || item.items || item.children;\n                if (!subItems) {\n                    return;\n                }\n                this._dfs(subItems, action, prop);\n            },\n            _toggleCheckAllItems: function (checked) {\n                this._dfs(this.dataSource.data(), '_checkAllCheckItem', checked);\n            },\n            _checkAllCheckItem: function (item, checked) {\n                if (item.enabled === false) {\n                    if (item.checked) {\n                        this._disabledCheckedItems.push(item);\n                    } else {\n                        this._disabledUnCheckedItems.push(item);\n                    }\n                } else {\n                    item.set('checked', checked);\n                }\n                return true;\n            },\n            _isFilterEnabled: function () {\n                var filter = this.options.filter;\n                return filter && filter !== 'none';\n            },\n            _editable: function (options) {\n                var that = this;\n                var element = that.element;\n                var disable = options.disable;\n                var readonly = options.readonly;\n                var wrapper = that.wrapper.add(that.filterInput).off(ns);\n                var dropDownWrapper = that._inputWrapper.off(HOVEREVENTS);\n                if (that._isMultipleSelection()) {\n                    that.tagList.off(CLICK + ns);\n                }\n                if (!readonly && !disable) {\n                    element.removeAttr(DISABLED).removeAttr(READONLY);\n                    dropDownWrapper.removeClass(STATEDISABLED).on(HOVEREVENTS, that._toggleHover);\n                    that._clear.on('click' + ns, proxy(that._clearClick, that));\n                    wrapper.attr(TABINDEX, wrapper.data(TABINDEX)).attr(ARIA_DISABLED, false).on('keydown' + ns, proxy(that._keydown, that)).on('focusin' + ns, proxy(that._focusinHandler, that)).on('focusout' + ns, proxy(that._focusoutHandler, that));\n                    that.wrapper.on(CLICK + ns, proxy(that._wrapperClick, that));\n                    if (this._isMultipleSelection()) {\n                        that.tagList.on(CLICK + ns, 'li.k-button', function (e) {\n                            $(e.currentTarget).addClass(FOCUSED);\n                        });\n                        that.tagList.on(CLICK + ns, '.k-select', function (e) {\n                            that._removeTagClick(e);\n                        });\n                    }\n                } else if (disable) {\n                    wrapper.removeAttr(TABINDEX);\n                    dropDownWrapper.addClass(STATEDISABLED);\n                } else {\n                    wrapper.attr(TABINDEX, wrapper.data(TABINDEX));\n                    dropDownWrapper.removeClass(STATEDISABLED);\n                    wrapper.on('focusin' + ns, proxy(that._focusinHandler, that)).on('focusout' + ns, proxy(that._focusoutHandler, that));\n                }\n                element.attr(DISABLED, disable).attr(READONLY, readonly);\n                wrapper.attr(ARIA_DISABLED, disable);\n            },\n            _focusinHandler: function () {\n                this._inputWrapper.addClass(FOCUSED);\n            },\n            _focusoutHandler: function () {\n                this._inputWrapper.removeClass(FOCUSED);\n                if (this._isMultipleSelection()) {\n                    this.tagList.find(DOT + FOCUSED).removeClass(FOCUSED);\n                }\n            },\n            _toggle: function (open) {\n                open = open !== undefined ? open : !this.popup.visible();\n                this[open ? OPEN : CLOSE]();\n            },\n            _wrapperClick: function (e) {\n                e.preventDefault();\n                this.popup.unbind('activate', this._focusInputHandler);\n                this._focused = this.wrapper;\n                this._prevent = false;\n                this._toggle();\n            },\n            _toggleHover: function (e) {\n                $(e.currentTarget).toggleClass(HOVER, e.type === 'mouseenter');\n            },\n            _focusInput: function () {\n                if (this.filterInput) {\n                    this.filterInput.focus();\n                } else if (this.checkAll) {\n                    this.checkAll.find('.k-checkbox').focus();\n                } else if (this.tree.is(':visible')) {\n                    this.tree.focus();\n                }\n            },\n            _keydown: function (e) {\n                var key = e.keyCode;\n                var altKey = e.altKey;\n                var isFilterInputActive;\n                var isWrapperActive;\n                var focused, tagItem;\n                var isPopupVisible = this.popup.visible();\n                if (this.filterInput) {\n                    isFilterInputActive = this.filterInput[0] === activeElement();\n                }\n                if (this.wrapper) {\n                    isWrapperActive = this.wrapper[0] === activeElement();\n                }\n                if (isWrapperActive) {\n                    if (key === keys.ESC) {\n                        this._clearTextAndValue();\n                        e.preventDefault();\n                        return;\n                    }\n                    if (this._isMultipleSelection()) {\n                        if (key === keys.LEFT) {\n                            this._focusPrevTag();\n                            e.preventDefault();\n                            return;\n                        }\n                        if (key === keys.RIGHT) {\n                            this._focusNextTag();\n                            e.preventDefault();\n                            return;\n                        }\n                        if (key === keys.HOME) {\n                            this._focusFirstTag();\n                            e.preventDefault();\n                            return;\n                        }\n                        if (key === keys.END) {\n                            this._focusLastTag();\n                            e.preventDefault();\n                            return;\n                        }\n                        if (key === keys.DELETE) {\n                            focused = this.tagList.find(DOT + FOCUSED).first();\n                            if (focused.length) {\n                                tagItem = this._tags[focused.index()];\n                                this._removeTag(tagItem);\n                            }\n                            e.preventDefault();\n                            return;\n                        }\n                        if (key === keys.BACKSPACE) {\n                            focused = this.tagList.find(DOT + FOCUSED).first();\n                            if (focused.length) {\n                                tagItem = this._tags[focused.index()];\n                                this._removeTag(tagItem);\n                            } else {\n                                focused = this._focusLastTag();\n                                if (focused.length) {\n                                    tagItem = this._tags[focused.index()];\n                                    this._removeTag(tagItem);\n                                }\n                            }\n                            e.preventDefault();\n                            return;\n                        }\n                    }\n                }\n                if (isFilterInputActive) {\n                    if (key === keys.ESC) {\n                        this._clearFilter();\n                    }\n                    if (key === keys.UP && !altKey) {\n                        this.wrapper.focus();\n                        e.preventDefault();\n                    }\n                    if (browser.msie && browser.version < 10) {\n                        if (key === keys.BACKSPACE || key === keys.DELETE) {\n                            this._search();\n                        }\n                    }\n                }\n                if (altKey && key === keys.UP || key === keys.ESC) {\n                    this.wrapper.focus();\n                    this.close();\n                    e.preventDefault();\n                    return;\n                }\n                if (key === keys.ENTER && this._typingTimeout && this.filterInput && isPopupVisible) {\n                    e.preventDefault();\n                    return;\n                }\n                if (key === keys.SPACEBAR && !isFilterInputActive) {\n                    this._toggle(!isPopupVisible);\n                    e.preventDefault();\n                }\n                if (altKey && key === keys.DOWN && !isPopupVisible) {\n                    this.open();\n                    e.preventDefault();\n                }\n                if (key === keys.DOWN && isPopupVisible) {\n                    if (this.filterInput && !isFilterInputActive) {\n                        this.filterInput.focus();\n                    } else if (this.checkAll && this.checkAll.is(':visible')) {\n                        this.checkAll.find('input').focus();\n                    } else if (this.tree.is(':visible')) {\n                        this.tree.focus();\n                    }\n                    e.preventDefault();\n                }\n            },\n            _focusPrevTag: function () {\n                var focused = this.tagList.find(DOT + FOCUSED);\n                if (focused.length) {\n                    var activedescendant = this.wrapper.attr('aria-activedescendant');\n                    focused.first().removeClass(FOCUSED).removeAttr('id').prev().addClass(FOCUSED).attr('id', activedescendant);\n                    this.wrapper.attr('aria-activedescendant', activedescendant);\n                } else {\n                    this._focusLastTag();\n                }\n            },\n            _focusNextTag: function () {\n                var focused = this.tagList.find(DOT + FOCUSED);\n                if (focused.length) {\n                    var activedescendant = this.wrapper.attr('aria-activedescendant');\n                    focused.first().removeClass(FOCUSED).removeAttr('id').next().addClass(FOCUSED).attr('id', activedescendant);\n                    this.wrapper.attr('aria-activedescendant', activedescendant);\n                } else {\n                    this._focusFirstTag();\n                }\n            },\n            _focusFirstTag: function () {\n                var activedescendant = this.wrapper.attr('aria-activedescendant');\n                this._clearDisabledTag();\n                var firstTag = this.tagList.children('li').first().addClass(FOCUSED).attr('id', activedescendant);\n                this.wrapper.attr('aria-activedescendant', activedescendant);\n                return firstTag;\n            },\n            _focusLastTag: function () {\n                var activedescendant = this.wrapper.attr('aria-activedescendant');\n                this._clearDisabledTag();\n                var lastTag = this.tagList.children('li').last().addClass(FOCUSED).attr('id', activedescendant);\n                this.wrapper.attr('aria-activedescendant', activedescendant);\n                return lastTag;\n            },\n            _clearDisabledTag: function () {\n                this.tagList.find(DOT + FOCUSED).removeClass(FOCUSED).removeAttr('id');\n            },\n            _search: function () {\n                var that = this;\n                clearTimeout(that._typingTimeout);\n                that._typingTimeout = setTimeout(function () {\n                    var value = that.filterInput.val();\n                    if (that._prev !== value) {\n                        that._prev = value;\n                        that.search(value);\n                    }\n                    that._typingTimeout = null;\n                }, that.options.delay);\n            },\n            _clearFilter: function () {\n                if (this.filterInput.val().length) {\n                    this.filterInput.val('');\n                    this._prev = '';\n                    this._filtering = true;\n                    this.treeview.dataSource.filter({});\n                }\n            },\n            _removeTagClick: function (e) {\n                e.stopPropagation();\n                var tagItem = this._tags[$(e.currentTarget.parentElement).index()];\n                this._removeTag(tagItem);\n            },\n            _removeTag: function (tagItem) {\n                if (!tagItem) {\n                    return;\n                }\n                var uid = tagItem.uid;\n                this._uncheckItemByUid(uid);\n            }\n        });\n        function assign(instance, fields, value) {\n            var idx = 0, lastIndex = fields.length - 1, field;\n            for (; idx < lastIndex; ++idx) {\n                field = fields[idx];\n                if (!(field in instance)) {\n                    instance[field] = {};\n                }\n                instance = instance[field];\n            }\n            instance[fields[lastIndex]] = value;\n        }\n        ui.plugin(DropDownTree);\n        var SingleSelection = kendo.Class.extend({\n            init: function (view) {\n                this._dropdowntree = view;\n            },\n            _initWrapper: function () {\n                this._wrapper();\n                this._span();\n            },\n            _preselect: function (data) {\n                var dropdowntree = this._dropdowntree;\n                dropdowntree._selectValue(data);\n            },\n            _wrapper: function () {\n                var dropdowntree = this._dropdowntree, element = dropdowntree.element, DOMelement = element[0], wrapper;\n                wrapper = element.parent();\n                if (!wrapper.is('span.k-widget')) {\n                    wrapper = element.wrap('<span />').parent();\n                    wrapper[0].style.cssText = DOMelement.style.cssText;\n                    wrapper[0].title = DOMelement.title;\n                }\n                dropdowntree._focused = dropdowntree.wrapper = wrapper.addClass('k-widget k-dropdowntree').addClass(DOMelement.className).css('display', '').attr({\n                    accesskey: element.attr('accesskey'),\n                    unselectable: 'on',\n                    role: 'listbox',\n                    'aria-haspopup': true,\n                    'aria-expanded': false\n                });\n                element.hide().removeAttr('accesskey');\n            },\n            _span: function () {\n                var dropdowntree = this._dropdowntree, wrapper = dropdowntree.wrapper, SELECTOR = 'span.k-input', span;\n                span = wrapper.find(SELECTOR);\n                if (!span[0]) {\n                    wrapper.append('<span unselectable=\"on\" class=\"k-dropdown-wrap k-state-default\"><span unselectable=\"on\" class=\"k-input\">&nbsp;</span><span unselectable=\"on\" class=\"k-select\" aria-label=\"select\"><span class=\"k-icon k-i-arrow-60-down\"></span></span></span>').append(dropdowntree.element);\n                    span = wrapper.find(SELECTOR);\n                }\n                dropdowntree.span = span;\n                dropdowntree._inputWrapper = $(wrapper[0].firstChild);\n                dropdowntree._arrow = wrapper.find('.k-select');\n                dropdowntree._arrowIcon = dropdowntree._arrow.find('.k-icon');\n            },\n            _setValue: function (value) {\n                var dropdowntree = this._dropdowntree;\n                var currentValue;\n                if (value === undefined || value === null) {\n                    currentValue = dropdowntree._values.slice()[0];\n                    value = typeof currentValue === 'object' ? currentValue : dropdowntree._accessor() || currentValue;\n                    return value === undefined || value === null ? '' : value;\n                }\n                dropdowntree._valueMethodCalled = true;\n                if (value.length === 0) {\n                    dropdowntree._clearTextAndValue();\n                    dropdowntree._valueMethodCalled = false;\n                    return;\n                }\n                dropdowntree._selectItemByValue(value);\n                dropdowntree._toggleCloseVisibility();\n            },\n            _clearValue: function () {\n                var dropdowntree = this._dropdowntree;\n                var selectedNode = dropdowntree.treeview.select();\n                if (dropdowntree.treeview.dataItem(selectedNode)) {\n                    dropdowntree.treeview.dataItem(selectedNode).set('selected', false);\n                    if (!dropdowntree._valueMethodCalled) {\n                        dropdowntree.trigger(CHANGE);\n                    }\n                }\n            },\n            _checkLoadedItem: function (tempItem, value) {\n                var dropdowntree = this._dropdowntree;\n                if (value && dropdowntree._valueComparer(tempItem, value) || !value && tempItem.selected) {\n                    dropdowntree.treeview.select(dropdowntree.treeview.findByUid(tempItem.uid));\n                }\n            }\n        });\n        var MultipleSelection = kendo.Class.extend({\n            init: function (view) {\n                this._dropdowntree = view;\n            },\n            _initWrapper: function () {\n                var dropdowntree = this._dropdowntree;\n                this._tagTemplate();\n                dropdowntree.element.attr('multiple', 'multiple').hide();\n                this._wrapper();\n                dropdowntree._tags = new ObservableArray([]);\n                dropdowntree._multipleTags = new ObservableArray([]);\n                this._tagList();\n                dropdowntree.span = $('<span unselectable=\"on\" class=\"k-input\">&nbsp;</span>').insertAfter(dropdowntree.tagList);\n                dropdowntree._inputWrapper = $(dropdowntree.wrapper[0].firstChild);\n            },\n            _preselect: function (data, value) {\n                var dropdowntree = this._dropdowntree;\n                var valueToSelect = value || dropdowntree.options.value;\n                if (!$.isArray(data) && !(data instanceof kendo.data.ObservableArray)) {\n                    data = [data];\n                }\n                if ($.isPlainObject(data[0]) || data[0] instanceof kendo.data.ObservableObject || !dropdowntree.options.dataValueField) {\n                    dropdowntree.dataSource.data(data);\n                    dropdowntree.value(valueToSelect);\n                }\n            },\n            _tagTemplate: function () {\n                var dropdowntree = this._dropdowntree;\n                var options = dropdowntree.options;\n                var tagTemplate = options.valueTemplate;\n                var isMultiple = options.tagMode === 'multiple';\n                var singleTag = options.messages.singleTag;\n                tagTemplate = tagTemplate ? kendo.template(tagTemplate) : dropdowntree.valueTemplate;\n                dropdowntree.valueTemplate = function (data) {\n                    if (isMultiple) {\n                        return '<li class=\"k-button ' + (data.enabled === false ? 'k-state-disabled' : '') + '\" unselectable=\"on\" role=\"option\" ' + (data.enabled === false ? 'aria-disabled=\"true\"' : '') + '>' + '<span unselectable=\"on\">' + tagTemplate(data) + '</span>' + '<span title=\"' + dropdowntree.options.messages.deleteTag + '\" aria-label=\"' + dropdowntree.options.messages.deleteTag + '\" class=\"k-select\">' + '<span class=\"k-icon k-i-close\"></span>' + '</span>' + '</li>';\n                    }\n                    return '<li class=\"k-button\" unselectable=\"on\" role=\"option\">' + '<span unselectable=\"on\" data-bind=\"text: tags.length\"></span>' + '<span unselectable=\"on\">&nbsp;' + singleTag + '</span>' + '</li>';\n                };\n            },\n            _wrapper: function () {\n                var dropdowntree = this._dropdowntree, element = dropdowntree.element, wrapper = element.parent('span.k-dropdowntree');\n                if (!wrapper[0]) {\n                    wrapper = element.wrap('<div class=\"k-widget k-dropdowntree\" unselectable=\"on\" />').parent();\n                    wrapper[0].style.cssText = element[0].style.cssText;\n                    wrapper[0].title = element[0].title;\n                    $('<div class=\"k-multiselect-wrap k-floatwrap\" unselectable=\"on\" />').insertBefore(element);\n                }\n                dropdowntree.wrapper = wrapper.addClass(element[0].className).css('display', '').attr({\n                    role: 'listbox',\n                    'aria-activedescendant': kendo.guid(),\n                    'aria-haspopup': true,\n                    'aria-expanded': false\n                });\n                dropdowntree._innerWrapper = $(wrapper[0].firstChild);\n            },\n            _tagList: function () {\n                var dropdowntree = this._dropdowntree, tagList = dropdowntree._innerWrapper.children('ul');\n                if (!tagList[0]) {\n                    var isMultiple = dropdowntree.options.tagMode === 'multiple';\n                    var tagCollection = isMultiple ? 'tags' : 'multipleTag';\n                    tagList = $('<ul role=\"listbox\" unselectable=\"on\" data-template=\"tagTemplate\" data-bind=\"source: ' + tagCollection + '\" class=\"k-reset\"/>').appendTo(dropdowntree._innerWrapper);\n                }\n                dropdowntree.tagList = tagList;\n                dropdowntree.tagList.attr('id', kendo.guid() + '_tagList');\n                dropdowntree.wrapper.attr('aria-owns', dropdowntree.tagList.attr('id'));\n                var viewModel = kendo.observable({\n                    multipleTag: dropdowntree._multipleTags,\n                    tags: dropdowntree._tags,\n                    tagTemplate: dropdowntree.valueTemplate\n                });\n                kendo.bind(dropdowntree.tagList, viewModel);\n                dropdowntree.tagList.attr('data-stop', true);\n            },\n            _setValue: function (value) {\n                var dropdowntree = this._dropdowntree;\n                var oldValues = dropdowntree._values;\n                if (value === undefined || value === null) {\n                    return dropdowntree._values.slice();\n                }\n                dropdowntree.setValue(value);\n                dropdowntree._valueMethodCalled = true;\n                if (value.length) {\n                    this._removeValues(oldValues, value);\n                    dropdowntree._checkItemByValue(value);\n                } else {\n                    dropdowntree._clearTextAndValue();\n                }\n                dropdowntree._valueMethodCalled = false;\n                dropdowntree._toggleCloseVisibility();\n            },\n            _removeValues: function (oldValues, value) {\n                var dropdowntree = this._dropdowntree;\n                var removedValues = this._getNewValues(oldValues, value);\n                for (var idx = 0; idx < removedValues.length; idx++) {\n                    for (var j = 0; j < dropdowntree._tags.length; j++) {\n                        if (dropdowntree._valueComparer(dropdowntree._tags[j], removedValues[idx])) {\n                            dropdowntree._uncheckItemByUid(dropdowntree._tags[j].uid);\n                        }\n                    }\n                }\n            },\n            _getNewValues: function (oldValues, value) {\n                var removedValues = [];\n                for (var idx = 0; idx < oldValues.length; idx++) {\n                    if (value.indexOf(oldValues[idx]) === -1) {\n                        removedValues.push(oldValues[idx]);\n                    }\n                }\n                return removedValues;\n            },\n            _clearValue: function () {\n                var dropdowntree = this._dropdowntree;\n                var tagsArray = dropdowntree._tags.slice();\n                for (var idx = 0; idx < tagsArray.length; idx++) {\n                    var uid = tagsArray[idx].uid;\n                    dropdowntree._preventChangeTrigger = true;\n                    dropdowntree._uncheckItemByUid(uid);\n                }\n                if (tagsArray.length) {\n                    dropdowntree._preventChangeTrigger = false;\n                    if (!dropdowntree._valueMethodCalled) {\n                        dropdowntree.trigger(CHANGE);\n                    }\n                }\n            },\n            _checkLoadedItem: function (tempItem, value) {\n                var dropdowntree = this._dropdowntree;\n                if (dropdowntree._noInitialValue && tempItem.checked) {\n                    dropdowntree._checkValue(tempItem);\n                    return;\n                }\n                if (value.length && (value.indexOf(dropdowntree._currentValue(tempItem)) !== -1 || value.indexOf(tempItem)) !== -1 && !this._findTag(dropdowntree._currentValue(tempItem))) {\n                    if (tempItem.checked) {\n                        dropdowntree._checkValue(tempItem);\n                    } else {\n                        tempItem.set('checked', true);\n                    }\n                }\n            },\n            _findTag: function (tempItemValue) {\n                var dropdowntree = this._dropdowntree;\n                return dropdowntree._tags.find(function (item) {\n                    return dropdowntree._valueComparer(item, tempItemValue);\n                });\n            }\n        });\n        kendo.ui.DropDownTree.SingleSelection = SingleSelection;\n        kendo.ui.DropDownTree.MultipleSelection = MultipleSelection;\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}